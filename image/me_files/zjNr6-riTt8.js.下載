;/*FB_PKG_DELIM*/

__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:[0,20]})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],[0,1]))}])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],[0,0])?c.loopAsync(d[0],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[5],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[3])&&c.i64.eq(b.authorityLevel,[0,20])}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[4])})})}])}):c.resolve()},function(e){return c.i64.eq(f,[0,12])?d[1]=[0,10]:(a[9]?d[3]=[0,9]:d[3]=[0,3],d[1]=d[3]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[2]=a[0],a})},function(e){return a[12]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[12],d[2],c.i64.to_string([0,46]),a[3])},function(d){return c.sp(b("LSAppendDataTraceAddon"),a[12],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,b.primarySortKey,b.secondarySortKey==null?[-1,4294967295]:b.secondarySortKey],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d)})},function(d){return c[32]=b.i64.or_([0,2],b.i64.or_(!c[3]&&!a[3]?[0,4]:[0,0],b.i64.or_(c[3]?[0,0]:[0,1],b.i64.or_(b.i64.eq(c[5],[0,60])||b.i64.eq(c[5],[0,80])?[0,1048576]:[0,0],b.i64.neq(c[6],[85970,924785702])&&b.i64.neq(c[6],[85970,1004785694])&&b.i64.neq(c[6],[85970,1044785690])?[0,0]:[0,2097152])))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[12],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[32],[0,16]):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[30],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[22],[0,16]):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetViewerFBID","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags","gkx"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[7]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[0]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[0]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?d[9]=[-1,4294967295]:(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],[0,1]),d[13]=c.i64.gt(d[7],d[11])?d[7]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,[0,40])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:[0,0],threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:[0,0],authorityLevel:[0,40]})},function(b){return c.i64.eq(a[2],[0,13])||c.i64.eq(a[2],[0,7])||c.i64.eq(a[2],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[16],d[17],f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,[0,80])||c.i64.eq(b.authorityLevel,[0,60])||c.i64.eq(b.authorityLevel,[0,40]))}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.of_float(Date.now()):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],[0,1])||c.i64.eq(a[10],[0,1]))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,[0,0],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[55]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],[0,4]],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[54]=h.replyType==null?[0,0]:h.replyType,c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[57]=a[0],a})},function(e){return c.i64.eq(d[54],[0,1])?c.seq([function(e){return c.i64.eq(a[0],d[57])?c.seq([function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return c.localizeV2Async([0,2421884758],f).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.seq([function(e){return c.seq([function(e){return d[64]=b("gkx")("7530"),d[64]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.name)})},function(a){return d[65]=d[66]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[66]=f:(c=b.item,d[66]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.firstName==null?e.name:e.firstName)})},function(a){return d[65]=d[66]==null?d[68]:d[66]}])},function(a){return d[61]=d[65]}])},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),c.localizeV2Async([0,2676961947],d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[59]=d[60]}]):c.seq([function(e){return c.seq([function(e){return d[62]=b("gkx")("7530"),d[62]?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}]):(e=b.item,d[64]=e.name)})},function(a){return d[63]=d[64]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[64]=f:(c=b.item,d[64]=c.nickname)})},function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.firstName==null?e.name:e.firstName)})},function(a){return d[63]=d[64]==null?d[66]:d[64]}])},function(a){return d[60]=d[63]}])},function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[60]),d[62]),c.localizeV2Async([0,3298086032],d[62]).then(function(a){return d[63]=a})},function(a){return d[61]=d[63]}]):c.seq([function(e){return c.i64.eq(a[0],d[55])?c.seq([function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[60]),d[63]),c.localizeV2Async([0,3873263038],d[63]).then(function(a){return d[64]=a})},function(a){return d[62]=d[64]}]):c.seq([function(e){return c.seq([function(e){return d[66]=b("gkx")("7530"),d[66]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.name)})},function(a){return d[67]=d[68]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[68]=f:(c=b.item,d[68]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[72]=a})},function(a){return d[70]=d[72]}]):(e=b.item,d[70]=e.firstName==null?e.name:e.firstName)})},function(a){return d[67]=d[68]==null?d[70]:d[68]}])},function(a){return d[63]=d[67]}])},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[60]),d[64]),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async([0,2616853333],d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[61]=d[62]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}]):c.seq([function(e){return c.i64.eq(a[0],d[57])?c.seq([function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return c.localizeV2Async([0,4002265907],f).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.seq([function(e){return c.seq([function(e){return d[64]=b("gkx")("7530"),d[64]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.name)})},function(a){return d[65]=d[66]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[66]=f:(c=b.item,d[66]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.firstName==null?e.name:e.firstName)})},function(a){return d[65]=d[66]==null?d[68]:d[66]}])},function(a){return d[61]=d[65]}])},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),c.localizeV2Async([0,2663996736],d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[59]=d[60]}]):c.seq([function(e){return c.seq([function(e){return d[62]=b("gkx")("7530"),d[62]?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}]):(e=b.item,d[64]=e.name)})},function(a){return d[63]=d[64]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[64]=f:(c=b.item,d[64]=c.nickname)})},function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.firstName==null?e.name:e.firstName)})},function(a){return d[63]=d[64]==null?d[66]:d[64]}])},function(a){return d[60]=d[63]}])},function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[60]),d[62]),c.localizeV2Async([0,2868699317],d[62]).then(function(a){return d[63]=a})},function(a){return d[61]=d[63]}]):c.seq([function(e){return c.i64.eq(a[0],d[55])?c.seq([function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[60]),d[63]),c.localizeV2Async([0,2688620547],d[63]).then(function(a){return d[64]=a})},function(a){return d[62]=d[64]}]):c.seq([function(e){return c.seq([function(e){return d[66]=b("gkx")("7530"),d[66]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.name)})},function(a){return d[67]=d[68]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[68]=f:(c=b.item,d[68]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[72]=a})},function(a){return d[70]=d[72]}]):(e=b.item,d[70]=e.firstName==null?e.name:e.firstName)})},function(a){return d[67]=d[68]==null?d[70]:d[68]}])},function(a){return d[63]=d[67]}])},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[60]),d[64]),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async([0,3544071775],d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[61]=d[62]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}])},function(a){return d[56]=d[58]}])},function(b){return d[52]=c.i64.eq(a[10],[0,1])?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],[0,1],d[52],d[55],h.text,d[50],d[51],f,f,f,f,f,f,d[54]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],[0,0])||c.i64.eq(a[10],[0,0])?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],[0,1],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=[0,3]:d[32]=d[13],c.i64.eq([0,20],[0,20])?c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[9],secondarySortKey:d[7],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[7],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[0]]],"optimistic"]),function(a){return a.offlineThreadingId===d[0]&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[1]=c.createArray(),d[2]=(d[1].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[1]),d[3]=(d[1].push("localApplyOptimisticMessage"),d[1]),d[4]=(d[1].push(a[1]),d[1]),d[5]=(d[1].push(d[0]),d[1]),d[6]=c.toJSON(d[1]),function(a){c.logger(a).info(a)}(d[6]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[0],d[7],c.i64.eq(a[2],[0,1]))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[7],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[0],d[7]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,[0,20])}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,[0,20])}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,[0,3],f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),[0,2],f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[4]=(d[2].push(a[7]),d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:[0,4],markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,[0,80])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=h.text,d[3]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],d[2],f,f,h.stickerId,h.hotEmojiSize,f,f,[0,3],f,d[3],f,!0).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[4]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[5],d[4],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[4],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?c.sp(b("LSPredefineTraceForTask"),f,d[6],c.i64.to_string([0,46]),d[4]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[4],messageId:a[5],threadAttributionSource:a[6],sendType:[0,5],markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[4]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAppendDataTraceAddon.bs",["LSAppendDataTraceAddon","LSFactory","bs_belt_Option","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return window.Promise.resolve();else return c("LSAppendDataTraceAddon")(d,e,f,c("bs_belt_Option").getWithDefault(g,""),c("bs_belt_Option").getWithDefault(h,""),c("LSFactory")(a))}b=a;g.call=b}),98);
__d("LSAppendDataTraceAddon.nop",["LSAppendDataTraceAddon.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g,h){return d("LSAppendDataTraceAddon.bs").call(a,b,c,e,f,g,h)};g["default"]=a}),98);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],[0,3],d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=[0,7]}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],[53057,267535043])&&c.i64.neq(a[7],[85970,924785702])&&c.i64.neq(a[7],[85970,1004785694])&&c.i64.neq(a[7],[85970,1044785690])?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],[0,1],f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=[0,2]}]):c.resolve(d[11]=[0,1])},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string([0,46]),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[24],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23],skipUrlPreviewGen:a[25],textHasLinks:a[26]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string([0,1])),c.nop(b("LSLogEventAnnotate.nop"),[0,16],[0,23],[0,0],d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.ftr(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e,e],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],e)?b.seq([function(d){return b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:b.i64.of_float(Date.now()),pluginType:a[1]})},function(a){return c[2]=e}]):b.resolve(c[2]=[0,1002])},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],[0,0])?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[0],[0,0]).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],f)?a[2]!==f?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],f)?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRemoveMediaSendJobs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSResumeMediaSendJob",["LSArrayGetObjectAt","LSGetMessageAttributionParams","LSInsertPhase2PendingTask","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",f),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],[-1,4294967293])?d[10]=!0:(c.i64.eq(d[11],[0,1])?d[14]=!0:(c.i64.eq(d[11],[0,3])?d[15]=!0:(c.i64.eq(d[11],[0,5])?d[16]=!0:(c.i64.eq(d[11],[0,13])?d[17]=!0:(c.i64.eq(d[11],[0,7])?d[18]=!0:(c.i64.eq(d[11],[0,9])?d[19]=!0:(c.i64.eq(d[11],[0,11])?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],[0,5])||c.i64.eq(d[11],[0,11])?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],[-1,4294967295])?d[14]=[0,5]:(c.i64.eq(d[11],[-1,4294967294])?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?[0,1]:[0,3]):(c.i64.eq(d[11],[0,2])?d[16]=[0,3]:(c.i64.eq(d[11],[0,4])?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?[0,13]:f:[0,5]):(c.i64.eq(d[11],[0,6])?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?[0,13]:f):(c.i64.eq(d[11],[0,14])?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?[0,7]:[0,9]:f):(c.i64.eq(d[11],[0,8])?d[20]=[0,9]:(c.i64.eq(d[11],[0,10])?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?f:[0,11]):(c.i64.eq(d[11],[0,12])?d[22]=f:d[22]=f,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],f)?c.seq([function(a){return c.fe(c.db.table(51).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],[0,5])||c.i64.eq(d[14],[0,11])?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=f:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],f)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],[0,10]):c.i64.eq(d[5],[0,4]):d[12]?c.i64.eq(d[5],[0,12]):c.i64.eq(d[5],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],[0,5])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],f)?(c.i64.neq(a.fbid,f)?d[16]=f:d[16]=[0,9],d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.seq([function(b){return d[16]=c.createArray(),d[17]=new c.Map(),d[18]=new c.Map(),d[19]=!1,d[20]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.fbid,d[20]=c.i64.add(d[20],[0,1]),c.i64.neq(d[25],f)?d[26]=(d[16].push(d[25]),d[16]):0})},function(b){return d[21]=c.createArray(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.metadata,d[25]!==f?d[26]=(d[21].push(d[25]),d[21]):0})},function(a){return d[22]=c.i64.of_int32(d[16].length),d[23]=c.i64.of_int32(d[21].length),c.i64.neq(d[22],d[20])||c.i64.neq(d[23],d[20])?d[24]=[0,11]:(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[24]=f),d[15]=d[24]}]):c.seq([function(e){return c.seq([function(b){return d[17]=c.createArray(),d[18]=new c.Map(),d[19]=new c.Map(),d[20]=!1,d[21]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[24]=a.fbid,d[21]=c.i64.add(d[21],[0,1]),c.i64.neq(d[24],f)?d[25]=(d[17].push(d[24]),d[17]):0})},function(e){return d[22]=c.i64.of_int32(d[17].length),c.i64.neq(d[22],d[21])||c.i64.eq(d[21],[0,0])?c.resolve(d[23]=[0,10002]):c.seq([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],c)})},function(e){return c.i64.eq(d[24],f)||c.i64.eq(d[25],f)?c.resolve((c.i64.eq(d[24],f)?d[31]=[0,10003]:d[31]=[0,10004],d[30]=d[31])):c.seq([function(a){return c.db.table(9).fetch([[[d[24]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[31]=f:(b=a.item,d[31]=b.threadType)})},function(b){return c.ftr(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[33]=c[0],d[34]=c[1],d[35]=c[2],d[36]=c[3],d[37]=c[4],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,f,f],d[33]=c[0],d[34]=c[1],d[35]=c[2],d[36]=c[3],d[37]=c[4],c)})},function(e){return c.i64.neq(d[31],f)?c.seq([function(e){return d[40]=d[18].keys(),d[41]=c.i64.of_int32(d[40].length),c.i64.gt(d[41],[0,0])?c.loopAsync(d[41],function(e){return d[47]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[40],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(e){return d[50]=d[19].get(d[48]),d[19],d[51]=c.i64.to_string(d[50]),d[51]!==f?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[40],d[47]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(b){return d[54]=d[18].get(d[48]),d[18],c.fe(c.ftr(c.db.table(16).fetch([[[d[24],a[0],d[52]]]]),function(b){return c.i64.eq(b.threadKey,d[24])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[0]&&b.attachmentFbid===d[52]}),function(a){var b=a.update;a.item;return b({attachmentFbid:d[51],originalFileHash:d[54]})})}]):c.resolve()}])}):c.resolve()},function(e){return c.sp(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[42]=a[0],d[43]=a[1],d[44]=a[2],a})},function(e){return c.i64.neq(d[42],f)?d[45]=d[42]:d[45]=[0,0],c.sp(b("LSIssueSendAttachmentMessageTask"),d[25],d[24],d[31],a[0],d[26],d[17],d[45],d[27],d[28],d[20],d[33],d[34],a[2])},function(a){return c.i64.ge([0,0],[0,0])?d[46]=f:d[46]=[0,10006],d[39]=d[46]}]):c.resolve(d[39]=[0,10005])},function(a){return d[30]=d[39]}])},function(a){return d[23]=d[30]}])},function(a){return d[16]=d[23]}])},function(b){return c.i64.eq(d[16],f)?c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,6]})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],f)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq([0,6],[0,10]):c.i64.eq([0,6],[0,4]):d[18]?c.i64.eq([0,6],[0,12]):c.i64.eq([0,6],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq([0,6],[-1,4294967295])?d[19]=[0,5]:(c.i64.eq([0,6],[-1,4294967294])?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?[0,1]:[0,3]):(c.i64.eq([0,6],[0,2])?d[21]=[0,3]:(c.i64.eq([0,6],[0,4])?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?[0,13]:f:[0,5]):(c.i64.eq([0,6],[0,6])?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?[0,13]:f):(c.i64.eq([0,6],[0,14])?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?[0,7]:[0,9]:f):(c.i64.eq([0,6],[0,8])?d[25]=[0,9]:(c.i64.eq([0,6],[0,10])?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?f:[0,11]):(c.i64.eq([0,6],[0,12])?d[27]=f:d[27]=f,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],f)?c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],[0,11])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],f)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],[0,13])?c.seq([function(e){return c.sp(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,14]})})},function(b){return d[1].set("main_job_succeeded",!0),c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",[0,11])))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWBaseTheme.bs",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};d={};f.empty=c;f.Provider=d}),66);
__d("MWCombineThemeConfigs.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MWSeparatorContainer.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=h.Children.toArray(a.children).filter(Boolean);return d.length===0?null:h.jsxs(h.Fragment,{children:[(b=a.beforeContent)!=null?b:null,h.jsx("div",{className:c("stylex")(a.xstyle),children:d.map(function(b,c){return h.jsxs(h.Fragment,{children:[c!==0&&a.separator,b]},"item-"+c)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWTextWithEntities.bs",["CometLink.react","MAWArmadilloLink.react","MWMessageCellFocusTable.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e,f,g){f===void 0&&(f=!1);return function(e,g){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{role:"gridcell",children:f?h.jsx(c("MAWArmadilloLink.react"),{bypassMDS_DO_NOT_USE:!0,href:g.uri,target:b,testid:void 0,xstyle:a,children:e}):h.jsx(c("CometLink.react"),{href:g.uri,target:b,testid:void 0,xstyle:a,children:e})})})}}g.linkPlugin=a}),98);
__d("LSMessagingThreadAttributionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,65536];b=[0,65537];var g=[0,65538],h=[0,65539],i=[0,65540],j=[0,65541],k=[0,65542],l=[0,65543],m=[0,65544],n=[0,65545],o=[0,65546],p=[0,65547],q=[0,65548],r=[0,131072],s=[0,131073],t=[0,131074],u=[0,131075],v=[0,131076],w=[0,196608],x=[0,196609],y=[0,196610],z=[0,196611],A=[0,196612],B=[0,196613],C=[0,262144],D=[0,262145],E=[0,262146],F=[0,262147],G=[0,262148],H=[0,262149],I=[0,327680],J=[0,327681],K=[0,327682],L=[0,393216],M=[0,393217],N=[0,393218],O=[0,393219],P=[0,393220],Q=[0,393221],R=[0,393222],S=[0,393223],T=[0,393224],U=[0,393225],V=[0,458752],W=[0,458753],X=[0,458754],Y=[0,524288],Z=[0,524289],$=[0,524290],aa=[0,524291],ba=[0,589824],ca=[0,589825],da=[0,589826],ea=[0,589827],fa=[0,589828],ga=[0,655360],ha=[0,655361],ia=[0,720896],ja=[0,720897],ka=[0,720898],la=[0,786432],ma=[0,786433],na=[0,786434],oa=[0,786435],pa=[0,786436],qa=[0,786437],ra=[0,786439],sa=[0,851968],ta=[0,851969],ua=[0,851970],va=[0,851971],wa=[0,851972],xa=[0,917504],ya=[0,917505],za=[0,917506],Aa=[0,917507],Ba=[0,917508],Ca=[0,917509],Da=[0,917510],Ea=[0,983040],Fa=[0,1048576],Ga=[0,1048577],Ha=[0,1048578],Ia=[0,1114112],Ja=[0,1114113],Ka=[0,1114114],La=[0,1114115],Ma=[0,1114116],Na=[0,1114117],Oa=[0,1114118],Pa=[0,1114119],Qa=[0,1179648],Ra=[0,1245184],Sa=[0,1245185],Ta=[0,1245186],Ua=[0,1310720],Va=[0,1310721],Wa=[0,1310722],Xa=[0,1310723],Ya=[0,1310724],Za=[0,1310725],$a=[0,1310726],ab=[0,1310727],bb=[0,1310728],cb=[0,1376256],db=[0,1376257],eb=[0,1376258],fb=[0,1441792],gb=[0,1441793],hb=[0,1441794],ib=[0,1441795],jb=[0,1507328],kb=[0,1507329],lb=[0,1507330],mb=[0,1507331],nb=[0,1572864],ob=[0,1572865],pb=[0,1572866],qb=[0,1572867],rb=[0,1572868],sb=[0,1572869],tb=[0,1572870],ub=[0,1572871],vb=[0,1572872],wb=[0,1572873],xb=[0,1572874],yb=[0,1572875],zb=[0,1572876],Ab=[0,1638400],Bb=[0,1638401],Cb=[0,1638402],Db=[0,1703936],Eb=[0,1703937],Fb=[0,1703938],Gb=[0,1769472],Hb=[0,1769473],Ib=[0,1835008],Jb=[0,1835009],Kb=[0,1835010],Lb=[0,1835011],Mb=[0,1835012],Nb=[0,1900544],Ob=[0,1900545],Pb=[0,1966080],Qb=[0,1966081],Rb=[0,1966082],Sb=[0,1966083],Tb=[0,2031616],Ub=[0,2031617],Vb=[0,2097152],Wb=[0,2097153],Xb=[0,2097154],Yb=[0,2097155],Zb=[0,2097156],$b=[0,2162688],ac=[0,2162689],bc=[0,2162690],cc=[0,2162691],dc=[0,2228224],ec=[0,2228225],fc=[0,2228226],gc=[0,2228227],hc=[0,2293760],ic=[0,2293761],jc=[0,2293762],kc=[0,2359296],lc=[0,2359297],mc=[0,2424832],nc=[0,2424833],oc=[0,2424834],pc=[0,2424835],qc=[0,2424836],rc=[0,2424837],sc=[0,2490368],tc=[0,2490369],uc=[0,2490370],vc=[0,2490371],wc=[0,2490372],xc=[0,2490373],yc=[0,2490374],zc=[0,2490375],Ac=[0,2490376],Bc=[0,2490377],Cc=[0,2490378],Dc=[0,2490379],Ec=[0,2490380],Fc=[0,2490381],Gc=[0,2490382],Hc=[0,2490383],Ic=[0,2490384],Jc=[0,2490385],Kc=[0,2490386],Lc=[0,2555904],Mc=[0,2555905],Nc=[0,2555906],Oc=[0,2555907],Pc=[0,2555908],Qc=[0,2621440],Rc=[0,2686976],Sc=[0,2752512],Tc=[0,2818048],Uc=[0,2883584],Vc=[0,2883585],Wc=[0,2883586],Xc=[0,2949120],Yc=[0,2949121],Zc=[0,3014656],$c=[0,3080192],ad=[0,3145728],bd=[0,3211264],cd=[0,3211265],dd=[0,3211266],ed=[0,3211267],fd=[0,3211268],gd=[0,3276800],hd=[0,3276801],id=[0,3342336],jd=[0,3342337],kd=[0,3407872],ld=[0,3473408],md=[0,3473409],nd=[0,3538944],od=[0,3538945],pd=[0,3538946],qd=[0,3604480],rd=[0,3604481],sd=[0,3604482],td=[0,3670016],ud=[0,3735552],vd=[0,3801088],wd=[0,3866624],xd=[0,3866625],yd=[0,3932160],zd=[0,3932161],Ad=[0,3932162],Bd=[0,3932163],Cd=[0,3997696],Dd=[0,3997697],Ed=[0,3997698],Fd=[0,3997699],Gd=[0,4063232],Hd=[0,4128768],Id=[0,4128769],Jd=[0,4128770],Kd=[0,4128771],Ld=[0,4194304],Md=[0,4259840],Nd=[0,4259841],Od=[0,4325376],Pd=[0,4390912],Qd=[0,4390913];f.unknown=a;f.unknownTest=c;f.unknownFailureRetry=d;f.messengerInbox=e;f.messengerInboxInThread=b;f.messengerInboxThreadList=g;f.messengerInboxNestedFolder=h;f.messengerInboxRecentThreads=i;f.messengerInboxRemainingThreads=j;f.messengerInboxMessageSearch=k;f.messengerInboxImageSending=l;f.messengerInboxForward=m;f.messengerInboxArchivedThreads=n;f.messengerInboxPendingRequests=o;f.messengerInboxActiveContacts=p;f.messengerInboxThreadBannerBottomSheet=q;f.messengerUniversalSearch=r;f.messengerUniversalSearchNullState=s;f.messengerUniversalSearchKeyPressed=t;f.messengerUniversalSearchMessageSearch=u;f.messengerUniversalSearchAdvancedContentSearch=v;f.montageAndActiveNow=w;f.montageAndActiveNowMontageInboxUnit=x;f.montageAndActiveNowActiveNow=y;f.montageAndActiveNowInboxComposer=z;f.montageAndActiveNowActiveAndHasStory=A;f.montageAndActiveNowCustomStatus=B;f.messengerActiveNowFriendsTab=C;f.messengerActiveNowFriendsTabFriendsTab=D;f.messengerActiveNowFriendsTabPlaceHolder=E;f.messengerActiveNowFriendsTabRecentActive=F;f.messengerActiveNowFriendsTabRecentActiveAndStory=G;f.messengerActiveNowFriendsTabContentDiscovery=H;f.messengerPendingRequests=I;f.messengerPendingRequestsInboxThreadList=J;f.messengerPendingRequestsPendingRequestsPage=K;f.messengerBroadcastFlow=L;f.messengerBroadcastFlowFromMessenger=M;f.messengerBroadcastFlowFromFb=N;f.messengerBroadcastFlowFromExternal=O;f.messengerBroadcastFlowFromFbNewsfeedSharesheet=P;f.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer=Q;f.messengerBroadcastFlowFromFbShortsViewer=R;f.messengerBroadcastFlowForwardGutter=S;f.messengerBroadcastFlowForwardLongclick=T;f.messengerBroadcastFlowMessengerPhotoView=U;f.messengerOmnipicker=V;f.messengerOmnipickerNullState=W;f.messengerOmnipickerKeyPressed=X;f.messengerNotification=Y;f.messengerNotificationInThreadReply=Z;f.messengerNotificationLongpressReply=$;f.messengerNotificationLongpressReaction=aa;f.clickToMessengerAd=ba;f.clickToMessengerAdFromNewsfeed=ca;f.clickToMessengerAdSendMessageCta=da;f.clickToMessengerAdViewAndMessage=ea;f.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta=fa;f.payments=ga;f.paymentsBubbleClick=ha;f.rtc=ia;f.rtcVoipIncall=ja;f.rtcDrawerPromotion=ka;f.fbPage=la;f.fbPageAboutCard=ma;f.fbPageProfileHeaderMessageButton=na;f.fbPageProfileFooterMessageButton=oa;f.fbPageProfileMoreDrawer=pa;f.fbPageResponsivenessContextCard=qa;f.fbPagePymmRhc=ra;f.fbProfile=sa;f.fbProfileTimelineMessageButton=ta;f.fbProfileFacebookProfile=ua;f.fbProfileMessageButton=va;f.fbProfileMessageButtonBloksUrl=wa;f.fbSearch=xa;f.fbSearchContextualProfileActionBarFromSearch=ya;f.fbSearchSearchMessageButton=za;f.fbSearchFbMessageSearchResults=Aa;f.fbSearchHighConfidenceCard=Ba;f.fbSearchMentions=Ca;f.fbSearchNullstateCta=Da;f.crypto=Ea;f.messengerMontageComposer=Fa;f.messengerMontageComposerFriendsTab=Ga;f.messengerMontageComposerFriendsTabStoryAndActiveNow=Ha;f.messengerMontageReply=Ia;f.messengerMontageReplyInboxThreadListProfile=Ja;f.messengerMontageReplyReplyContext=Ka;f.messengerMontageReplyThreadNavBar=La;f.messengerMontageReplyInboxThreadListProfileAuthorProfile=Ma;f.messengerMontageReplyReplyContextAuthorProfile=Na;f.messengerMontageReplyThreadNavBarAuthorProfile=Oa;f.messengerMontageReplyOneToOneChatThreadStoryBubble=Pa;f.messengerThreadMembersList=Qa;f.marketplace=Ra;f.marketplaceActivityBanner=Sa;f.marketplaceSendMessage=Ta;f.fbStory=Ua;f.fbStoryViewerSheetMenu=Va;f.fbStoryViewerSheetRow=Wa;f.fbStoryStoriesJewelNotification=Xa;f.fbStoryStoriesPushNotification=Ya;f.fbStoryStoriesViewerConsumerReply=Za;f.fbStoryStoriesViewerConsumerArtifact=$a;f.fbStoryStoriesPageStoryConversations=ab;f.fbStorySocialContextConversations=bb;f.workspeed=cb;f.workspeedComposerLikeButton=db;f.workspeedComposerGifPicker=eb;f.mdotme=fb;f.mdotmeOrganicPost=gb;f.mdotmeMarketingEmail=hb;f.mdotmeMbsOffsiteEmail=ib;f.customerChatPlugin=jb;f.customerChatPluginMobileRedirect=kb;f.customerChatPluginUpgradeFlow=lb;f.customerChatPluginReEngagement=mb;f.fbFeed=nb;f.fbFeedOrganicPost=ob;f.fbFeedOrganicPostViewAndMessage=pb;f.fbFeedQuestionTriggeredConvo=qb;f.fbFeedDynamicHoverCard=rb;f.fbFeedOrganicPostNewsfeedPagePostCta=sb;f.fbFeedOrganicPostNewsfeedBumperSmcta=tb;f.fbFeedBcfOpenChatButton=ub;f.fbFeedReactorsListMessageButton=vb;f.fbFeedReplyToAuthor=wb;f.fbFeedUfiSendSuggestions=xb;f.fbFeedBcf=yb;f.fbFeedCommunityChatsFeedPost=zb;f.fbNotification=Ab;f.fbNotificationJewelNotif=Bb;f.fbNotificationPushNotif=Cb;f.fbEvent=Db;f.fbEventMessageHost=Eb;f.fbEventShareClassMaterials=Fb;f.supportResources=Gb;f.supportResourcesFrxAction=Hb;f.leadGenMessaging=Ib;f.leadGenMessagingPreSubmission=Jb;f.leadGenMessagingPostSubmission=Kb;f.leadGenMessagingCrossChannelVerticalPresentAndroid=Lb;f.leadGenMessagingCrossChannelHscrollAndroid=Mb;f.messengerGraph=Nb;f.messengerGraphSelectContact=Ob;f.messengerChat=Pb;f.messengerChatFromJewelThreadList=Qb;f.messengerChatInThread=Rb;f.messengerChatForward=Sb;f.messengerArchivedThreads=Tb;f.messengerArchivedThreadsArchivedThreadsFolder=Ub;f.jewel=Vb;f.jewelThreadList=Wb;f.jewelSearch=Xb;f.jewelNewMessage=Yb;f.jewelNestedFolder=Zb;f.chatheads=$b;f.chatheadsRecentThreads=ac;f.chatheadsOverflow=bc;f.chatheadsNewMessage=cc;f.sidebar=dc;f.sidebarContactsList=ec;f.sidebarContactsSearch=fc;f.sidebarContactsGroups=gc;f.messengerCommunityMessaging=hc;f.messengerCommunityMessagingCommunityChannel=ic;f.messengerCommunityMessagingFullscreenChat=jc;f.fbPlatformLogin=kc;f.fbPlatformLoginLoginConnectWithMessenger=lc;f.contactManager=mc;f.contactManagerContactShare=nc;f.contactManagerPeopleTabContactList=oc;f.contactManagerPeopleTabContactSearch=pc;f.contactManagerIconContactList=qc;f.contactManagerIconContactSearch=rc;f.messagingInboxInBlue=sc;f.messagingInboxInBlueThreadList=tc;f.messagingInboxInBluePeoplePicker=uc;f.messagingInboxInBlueInboxIcon=vc;f.messagingInboxInBlueSwipeFromRight=wc;f.messagingInboxInBlueMibNotification=xc;f.messagingInboxInBlueActiveNow=yc;f.messagingInboxInBlueSuggestedChats=zc;f.messagingInboxInBlueChatPreviewBanner=Ac;f.messagingInboxInBlueThreadViewCoreNullState=Bc;f.messagingInboxInBlueMessageRequests=Cc;f.messagingInboxInBlueSpam=Dc;f.messagingInboxInBlueFbGroups=Ec;f.messagingInboxInBlueMessengerPeekStateButton=Fc;f.messagingInboxInBlueMessengerPeekStateTooltip=Gc;f.messagingInboxInBlueBroadcastFlow=Hc;f.messagingInboxInBlueThreadViewHeader=Ic;f.messagingInboxInBluePrivacySettings=Jc;f.messagingInboxInBlueArchivedChats=Kc;f.mibNotification=Lc;f.mibNotificationPushNotification=Mc;f.mibNotificationJewelNotification=Nc;f.mibNotificationDirectPushNotif=Oc;f.mibNotificationDirectJewelNotif=Pc;f.messengerRestrictedAccounts=Qc;f.armadilloCutoverThreadLinkingMessage=Rc;f.callsTab=Sc;f.miniShopViewMenuButton=Tc;f.sharesheet=Uc;f.sharesheetGeneralizedBroadcastFlow=Vc;f.sharesheetOffPlatformSharingHScroll=Wc;f.ufi=Xc;f.ufiGeneralizedBroadcastFlow=Yc;f.chatheadClickCollapsed=Zc;f.timelineMessageButton=$c;f.directReplyIntent=ad;f.fbGroups=bd;f.fbGroupsInbox=cd;f.fbGroupsPickerExistingChat=dd;f.fbGroupsPickerJoinChat=ed;f.fbGroupsMemberList=fd;f.devices=gd;f.devicesStella=hd;f.fbWellbeing=id;f.fbWellbeingIncallUnblockingNotification=jd;f.messengerDeepLinking=kd;f.readOnlyCutoverThread=ld;f.readOnlyCutoverThreadArmadilloThread=md;f.armadilloThread=nd;f.armadilloThreadReadOnlyCutoverThread=od;f.armadilloThreadExternalLink=pd;f.fbShorts=qd;f.fbShortsProfile=rd;f.fbShortsReactorsListMessageButton=sd;f.sendPlugin=td;f.sendAsMessageFromNt=ud;f.messengerPublicChatsMessaging=vd;f.messengerGrowth=wd;f.messengerGrowthNotificationsEntrypoint=xd;f.friendsHome=yd;f.friendsHomeActiveNow=zd;f.friendsHomeMessageNewFriends=Ad;f.friendsHomePostAcceptMessaging=Bd;f.externalLinkXma=Cd;f.externalLinkXmaFromComposer=Dd;f.externalLinkXmaFromDeepLinking=Ed;f.externalLinkXmaFromShareExtension=Fd;f.fbNotifications=Gd;f.quickPromotion=Hd;f.quickPromotionCta=Id;f.quickPromotionInterstitial=Jd;f.quickPromotionTopBanner=Kd;f.fbmInAppNotifs=Ld;f.creatorSupport=Md;f.creatorSupportMessengerToast=Nd;f.fbInstantGame=Od;f.communityChatsInFeed=Pd;f.communityChatsInFeedPermalink=Qd}),null);
__d("LSThreadAttributionTypeUtil.bs",["LSMessagingThreadAttributionType.bs","LSThreadAttributionStore.bs","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},c("bs_int64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="inboxPendingRequests")return d("LSMessagingThreadAttributionType.bs").messengerInboxPendingRequests;else if(a==="fullscreenChat")return d("LSMessagingThreadAttributionType.bs").messengerCommunityMessagingFullscreenChat;else if(a==="sidebarGroupsList")return d("LSMessagingThreadAttributionType.bs").sidebarContactsGroups;else if(a==="jewel")return d("LSMessagingThreadAttributionType.bs").jewelThreadList;else if(a==="shop")return d("LSMessagingThreadAttributionType.bs").miniShopViewMenuButton;else if(a==="chatheadsOverflow")return d("LSMessagingThreadAttributionType.bs").chatheads;else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSMessagingThreadAttributionType.bs").fbFeedDynamicHoverCard;else if(a==="search"||a==="messengerUniversalSearch")return d("LSMessagingThreadAttributionType.bs").messengerUniversalSearch;else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSMessagingThreadAttributionType.bs").fbStory;else if(a==="timeline"||a==="feedOrganicPost")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="pageAboutCard")return d("LSMessagingThreadAttributionType.bs").fbPageAboutCard;else if(a==="inboxInThread")return d("LSMessagingThreadAttributionType.bs").messengerInboxInThread;else if(a==="notificationInThreadReply")return d("LSMessagingThreadAttributionType.bs").messengerNotificationInThreadReply;else if(a==="archieve")return d("LSMessagingThreadAttributionType.bs").messengerArchivedThreads;else if(a==="storyViewerSheetRow")return d("LSMessagingThreadAttributionType.bs").fbStoryViewerSheetRow;else if(a==="chatheadsNewMessage")return d("LSMessagingThreadAttributionType.bs").chatheadsNewMessage;else if(a==="event")return d("LSMessagingThreadAttributionType.bs").fbEvent;else if(a==="jewelSearch")return d("LSMessagingThreadAttributionType.bs").jewelSearch;else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSMessagingThreadAttributionType.bs").messengerInbox;else if(a==="jewelNewMessage")return d("LSMessagingThreadAttributionType.bs").jewelNewMessage;else if(a==="pendingRequests")return d("LSMessagingThreadAttributionType.bs").messengerPendingRequestsInboxThreadList;else if(a==="sidebarSearch")return d("LSMessagingThreadAttributionType.bs").sidebarContactsSearch;else if(a==="inboxRemainingThreads")return d("LSMessagingThreadAttributionType.bs").messengerInboxRemainingThreads;else if(a==="pagesHeader")return d("LSMessagingThreadAttributionType.bs").fbPageProfileHeaderMessageButton;else if(a==="inboxRecentThreads")return d("LSMessagingThreadAttributionType.bs").messengerInboxRecentThreads;else if(a==="chatheads")return d("LSMessagingThreadAttributionType.bs").chatheadsRecentThreads;else if(a==="pageResponsivenessCard")return d("LSMessagingThreadAttributionType.bs").fbPageResponsivenessContextCard;else if(a==="inboxSearch")return d("LSMessagingThreadAttributionType.bs").messengerInboxMessageSearch;else if(a==="jewelNestedFolder")return d("LSMessagingThreadAttributionType.bs").jewelNestedFolder;else if(a==="marketplace")return d("LSMessagingThreadAttributionType.bs").marketplaceSendMessage;else if(a==="feedOrganicPostViewAndMessage")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPostViewAndMessage;else if(a==="adsCta")return d("LSMessagingThreadAttributionType.bs").clickToMessengerAdSendMessageCta;else if(a==="chatInThread")return d("LSMessagingThreadAttributionType.bs").messengerChatInThread;else if(a==="payments")return d("LSMessagingThreadAttributionType.bs").payments;else if(a==="inboxFolder")return d("LSMessagingThreadAttributionType.bs").messengerInboxNestedFolder;else if(a==="inboxArchived")return d("LSMessagingThreadAttributionType.bs").messengerInboxArchivedThreads;else if(a==="inboxActiveContacts")return d("LSMessagingThreadAttributionType.bs").messengerInboxActiveContacts;else if(a==="sidebarContactsList")return d("LSMessagingThreadAttributionType.bs").sidebarContactsList;else return d("LSMessagingThreadAttributionType.bs").unknown}g.getSource=a}),98);
__d("LSMessagingInitiatingSource.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.facebookChat=a;f.facebookInbox=c;f.roomsSideChat=d;f.facebookFullscreen=e}),null);
__d("LSMessagingInitiatingSourceHook.bs",["LSMessagingInitiatingSource.bs","MWLSThreadDisplayContext.bs","bs_belt_Option"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("bs_belt_Option").map(d("MWLSThreadDisplayContext.bs").useHook(),function(a){if(a==="Inbox")return d("LSMessagingInitiatingSource.bs").facebookInbox;else if(a==="FullscreenChat")return d("LSMessagingInitiatingSource.bs").facebookFullscreen;else if(a==="ChatTab")return d("LSMessagingInitiatingSource.bs").facebookChat;else return d("LSMessagingInitiatingSource.bs").roomsSideChat})}g.useHook=a}),98);
__d("MWLSSendMessageUtils.bs",["MWChatMessageId.bs","bs_belt_Option"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("bs_belt_Option").flatMap(a,function(a){a=a.content;switch(a.TAG){case 0:case 1:case 2:return d("MWChatMessageId.bs").getMessageId(a._0.messageID)}})}g.getReplySourceId=a}),98);
__d("LSMessageReplySourceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,13];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.lightweightStatus=h;f.lightweightStatusReaction=i;f.fbFeedPost=j}),null);
__d("LSMessageReplySourceTypeV2.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.storyBase64Encoded=h;f.lightweightStatus=i;f.closeFriends=j;f.xma=k;f.igNote=l;f.closeFriendsNoteReply=m;f.lightweightStatusReaction=n;f.fbFeedPost=o}),null);
__d("WorkChatMessageType.bs",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("MWLSSendStickerMessage.bs",["LSDict","LSFactory","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWLSSendMessageUtils.bs","MWPActor.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","WorkChatMessageType.bs","bs_caml_format","bs_caml_int64","bs_caml_option","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e){var f=a!==void 0?a:"unknown",g=c("useReStore")(),i=d("MWPActor.bs").useActor();return h.useCallback(function(a,h,j,k){c("promiseDone")(g.runInTransaction(function(e){var g=d("MWThread_DEPRECATED.bs").toThreadKey(a),l=d("LSThreadAttributionTypeUtil.bs").getSource(g,f);return c("LSOptimisticSendMessage")(i,g,d("MessagingThreadType.bs").oneToOne,d("LSMailboxType.bs").messenger,void 0,void 0,!1,c("bs_caml_format").caml_int64_of_string(h),void 0,void 0,void 0,l,void 0,void 0,c("bs_caml_option").option_get(d("MWLSSendMessageUtils.bs").getReplySourceId(j)),d("LSMessageReplySourceType.bs").message,d("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,c("LSDict").fromObject({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:c("bs_caml_int64").zero,preview_url:k,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:c("bs_caml_int64").zero}),b,void 0,void 0,void 0,c("LSFactory")(e))},"readwrite").then(function(a){e==null?void 0:e(d("WorkChatMessageType.bs").sticker,1,a[0])}))},[g,i,b,f,e])}g.useSendStickerMessage=a}),98);
__d("MWChatEmojiUtil.bs",["LSHotEmojiSize.bs","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!==void 0&&!c("bs_caml").i64_eq(a,d("LSHotEmojiSize.bs").small))if(c("bs_caml").i64_eq(a,d("LSHotEmojiSize.bs").medium))return 56;else if(c("bs_caml").i64_eq(a,d("LSHotEmojiSize.bs").large))return 96;else return 32;else return 32}g.transformHotEmojiSizeForWeb=a}),98);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating.bs","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var d=Date.now()|0;h.set(b,d);c("QPLUserFlow").start(a,{cancelOnUnload:!0,instanceKey:d,timeoutInMs:6e4})}function b(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endFailure(a,d,{instanceKey:b});return}}function d(a,b){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endSuccess(a,{instanceKey:b});return}}function e(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").addPoint(a,d,{instanceKey:b});return}}f=a;a=b;b=d;d=e;g.logStartUserFlow=f;g.logFailUserFlow=a;g.logSuccessUserFlow=b;g.logPointUserFlow=d}),98);
__d("MWLSForwardMessage.bs",["LSFactory","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource.bs","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","MWChatInteractionLog.bs","MWChatThreadId","MWLSSendStickerMessage.bs","MWLSThreadDisplayContext.bs","MWPActor.bs","MWThread_DEPRECATED.bs","ODS","Promise","ReQL.bs","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){var a=d("MWLSThreadDisplayContext.bs").useHook();if(a!==void 0)if(a==="Inbox")return d("LSMessagingThreadAttributionType.bs").messengerInboxForward;else if(a==="ChatTab")return d("LSMessagingThreadAttributionType.bs").messengerChatForward;else return d("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow;else return d("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow}function a(){var a=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=i(),j=d("LSMessagingSource.bs").useHook(),k=d("MWLSSendStickerMessage.bs").useSendStickerMessage(j,c("bs_caml_option").some(f));return h.useCallback(function(h,i){var j=d("LSMessagingThreadTypeUtil.bs").ofThreadId(h),l=d("MWThread_DEPRECATED.bs").toThreadKey(h);switch(i.TAG){case 0:case 1:return;case 2:i=i._0;var m=i.timestamp,n=i.messageId,o=i.threadId;d("ODS").bumpEntityKey(3185,"mw_forward","send");d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),n,"sending");var p=function(){return a.runInTransaction(function(a){return c("LSOptimisticSendMessageForward")(e,l,j,o,m,n,g,f!==void 0?c("bs_caml_option").valFromOption(f):void 0,c("LSFactory")(a))},"readwrite").then(function(){})};c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages")),{hd:o,tl:{hd:m,tl:{hd:n,tl:0}}})).then(function(e){if(e===void 0)return p();var f=e.stickerId;if(f!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:o,tl:{hd:n,tl:0}})).then(function(a){a=a!==void 0?d("LSMediaUrl.bs").Attachment.previewUrl(a):void 0;c("bs_curry")._4(k,h,c("bs_int64").to_string(f),void 0,a);return b("Promise").resolve()});else return p()}),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),n)},function(){d("ODS").bumpEntityKey(3185,"mw_forward","failure");return d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),n,"ls_error")});return}},[a,JSON.stringify(e),f,g,k])}function e(){var a=c("useReStore")(),b=d("MWPActor.bs").useActor(),e=d("LSMessagingInitiatingSourceHook.bs").useHook(),f=i();return h.useMemo(function(){return function(g,h,i){d("ODS").bumpEntityKey(3185,"mw_forward","send");i!==void 0&&d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),i,"sending");var j=d("LSMessagingThreadTypeUtil.bs").ofThreadId(g),k=d("MWThread_DEPRECATED.bs").toThreadKey(g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForward")(b,k,j,void 0,void 0,void 0,void 0,c("bs_caml_format").caml_int64_of_string(h),f,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,c("LSFactory")(a))},"readwrite"),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");if(i!==void 0)return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),i)},function(){i!==void 0&&d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),i,"ls_error"),d("ODS").bumpEntityKey(3185,"mw_forward","failure")})}},[a,JSON.stringify(b),e,f])}g.useForwardMessage=a;g.useForwardAttachment=e;g.targetIdString=d("MWChatThreadId").getFBID}),98);
__d("OfflineThreadingId.bs",["Crypto.bs","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("bs_caml_int64").of_float(Date.now()),b=d("Crypto.bs").getRandomValues(new Uint8Array(8));b=new DataView(b.buffer);b=c("bs_caml_int64").add(c("bs_caml_int64").lsl_(c("bs_caml_int64").of_int32(b.getUint32(0)),32),c("bs_caml_int64").of_int32(b.getUint32(4)));return c("bs_int64").to_string(c("bs_caml_int64").and_(c("bs_caml_int64").or_(c("bs_caml_int64").lsl_(a,22),c("bs_caml_int64").and_(b,[0,4194303])),c("bs_caml_int64").max_int))}g.make=a}),98);
__d("MWLSDefaultThreadSource.bs",["LSMessagingSource.bs","LSThreadAttributionTypeUtil.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("LSMessagingSource.bs").useHook();return h.useCallback(function(b){return d("LSThreadAttributionTypeUtil.bs").getSource(b,a)},[a])}g.useHook=a}),98);
__d("MWV2ForwardMessage.bs",["LSInt64.bs","LSMessagingThreadTypeUtil.bs","MAWDbMsg","MAWThreadId.bs","MAWVerifyThreadCutover.bs","MWChatMessageId.bs","MWLSDefaultThreadSource.bs","MWLSForwardMessage.bs","MWPActor.bs","MWThread_DEPRECATED.bs","Promise","ReQL.bs","ReQLSubscription.bs","asyncToGeneratorRuntime","bs_caml","bs_int64","cr:11272","cr:1564","cr:1746","cr:4175","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return d("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:b.threadKey,tl:0})},[a,JSON.stringify(b.threadKey)]))}function j(a,b){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:b,tl:0}))}function k(a,b,e){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:b,tl:0}),d("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,e)}))}function l(a,b){return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:b.threadKey,tl:{hd:b.messageId,tl:0}})},[a,JSON.stringify(b.threadKey),b.messageId]))}function a(a){var e=c("useReStore")(),f=i(e,a),g=l(e,a),m=d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType),n=d("MWPActor.bs").useActor(),o=c("bs_caml").i64_neq(n,a.senderId),p=d("MWLSForwardMessage.bs").useForwardMessage(),q=d("MWLSDefaultThreadSource.bs").useHook()(f.threadKey),r=d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(a.threadKey),a.messageId,c("bs_int64").to_string(a.timestampMs)),s=function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h){var i=d("MWThread_DEPRECATED.bs").toThreadKey(h),l=(yield b("Promise").all([d("MAWThreadId.bs").isSecureThreadId(e,i),j(e,i),k(e,i,n)])),m=l[0],p=l[1];l=l[2];i=(yield d("MAWVerifyThreadCutover.bs").verifyThreadCutover(b("Promise").resolve(e),i));m=m||i;if(b("cr:1746")!=null&&!m)return b("cr:1746").forwardMessage(e,h,f,a,o,g,n);i=d("MAWDbMsg").toMsgId(a.messageId);if(i==null)throw c("unrecoverableViolation")("Message does not have an id","messenger_web_product");if(b("cr:11272")!=null)if(b("cr:4175")!=null&&p!==void 0){b("cr:11272").forwardMessage(e,h,i);return b("cr:4175").call(e,n,p,l,d("LSMessagingThreadTypeUtil.bs").isOneToOne(p.threadType))}else return b("cr:11272").forwardMessage(e,h,i);throw c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")});return function(a){return h.apply(this,arguments)}}(),t=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var h=d("MWThread_DEPRECATED.bs").toThreadKey(c),i=(yield b("Promise").all([d("MAWThreadId.bs").isSecureThreadId(e,h),j(e,h),k(e,h,n)])),l=i[0],m=i[1];i=i[2];h=(yield d("MAWVerifyThreadCutover.bs").verifyThreadCutover(b("Promise").resolve(e),h));l=l||h;if(b("cr:1564")!=null&&l)if(b("cr:4175")!=null&&m!==void 0){b("cr:1564").forwardMessage(e,c,f,a,o,g,q);return b("cr:4175").call(e,n,m,i,d("LSMessagingThreadTypeUtil.bs").isOneToOne(m.threadType))}else return b("cr:1564").forwardMessage(e,c,f,a,o,g,q);else return p(c,r)});return function(a){return c.apply(this,arguments)}}();return h.useMemo(function(){if(m)return s;else return t},[m,s,t,d("LSInt64.bs").string(f.threadKey),a.messageId])}e=a;f=l;g.useForwardMessage=e;g.useAttachment=f}),98);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MWChatInteractionLog.bs","MWChatMessageId.bs","qpl","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.dropToggle,e=a.forwardDialogType,f=a.messageID,g=a.onClose,j=a.onSend;a=i(null);var k=c("useCometEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),l=k[0];k=h(function(){var a=d("MWChatMessageId.bs").getMessageId(f);a!=null&&d("MWChatInteractionLog.bs").logStartUserFlow(c("qpl")._(25298392,"4881"),a);l({dropToggle:b,forwardDialogType:e,messageID:f,onSend:j},g)},[j,l,f,g,e,b]);return{onClick:k,triggerRef:a}}g["default"]=a}),98);
__d("MWChatColors.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={incoming:{color:"xzsf02u",$$css:!0},incomingForwarded:{color:"x12scifz",$$css:!0},outgoing:{color:"x14ctfv",$$css:!0},outgoingForwarded:{color:"xkxfvhb",$$css:!0},replyToOriginal:{backgroundColor:"xmd5bsh",color:"xi81zsa",$$css:!0}};b={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};c={styles:b};g.styles=a;g.MessageActions=c}),98);
__d("LsActionCategory.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.unknown=a;f.impression=c;f.click=d;f.longClick=e;f.swipe=b;f.scroll=g;f.reactionPlus=h;f.doubleClick=i;f.lock=j;f.raiseDevice=k}),null);
__d("UseMWChatForward.re",["useMWChatForward"],(function(a,b,c,d,e,f,g){g.useMWChatForwardTypeChecked=c("useMWChatForward"),g.useMWChatForward=c("useMWChatForward")}),98);
__d("MWChatForwardAction.bs",["CometPressable.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","ODS","UseMWChatForward.re","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{opacity:"x1hc1fzr",$$css:!0}};function j(){}var k=h.jsx("svg",{height:"22px",viewBox:"0 0 36 36",width:"22px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function l(a,b){d("ODS").bumpEntityKey(3185,"mwchat_actions","forward");d("MWLSLogMessageClick.bs").logMessageClicked(a,d("LsTargetType.bs").forwardIcon);if(b!==void 0)return c("bs_curry")._1(b.onClick)}function a(a){var b=a.label,e=a.messageID,f=a.onForward,g=a.forwardDialogType;a=a.dropToggle;g=g!==void 0?g:"open_";a=a!==void 0?a:!1;a=d("UseMWChatForward.re").useMWChatForward({dropToggle:a,forwardDialogType:g,messageID:e,onClose:j,onSend:c("bs_curry").__1(f)});var m=a==null?void 0:c("bs_caml_option").some(a);return h.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:b,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:h.jsx(c("CometPressable.react"),{"aria-label":b,expanding:!0,onPress:function(){return l(e,m)},overlayDisabled:!0,role:c("gkx")("1224637")?"menuitem":"button",testid:void 0,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon,i.icon),children:k})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.sharedStyles=d("MWChatColors.bs").MessageActions.styles;g.noop=j;g.icon=k;g.onOpenForwardDialog=l;g.make=b}),98);
__d("LsTargetType.re",["LsTargetType.bs"],(function(a,b,c,d,e,f){c=(a=b("LsTargetType.bs")).cymkAdd;f.cymkAdd=c;d=a.cymkViewProfile;f.cymkViewProfile=d;e=a.cymkWave;f.cymkWave=e;b=a.inboxleft;f.inboxleft=b;c=a.inboxleftCall;f.inboxleftCall=c;d=a.inboxleftCamera;f.inboxleftCamera=d;e=a.inboxleftRtc;f.inboxleftRtc=e;b=a.inboxright;f.inboxright=b;c=a.inboxrightDelete;f.inboxrightDelete=c;d=a.inboxrightMore;f.inboxrightMore=d;e=a.inboxrightMute;f.inboxrightMute=e;b=a.inboxrightUnmute;f.inboxrightUnmute=b;c=a.instantGamePlayGame;f.instantGamePlayGame=c;d=a.messageRequestAccept;f.messageRequestAccept=d;e=a.messageRequestDecline;f.messageRequestDecline=e;b=a.messengerAdsCta;f.messengerAdsCta=b;c=a.rtcCanonicalCallAgain;f.rtcCanonicalCallAgain=c;d=a.rtcCanonicalCallBack;f.rtcCanonicalCallBack=d;e=a.rtcGroupCallJoinCall;f.rtcGroupCallJoinCall=e;b=a.rtcGroupJoinVideoChat;f.rtcGroupJoinVideoChat=b;c=a.rtcScheduledCall;f.rtcScheduledCall=c;d=a.seeAll;f.seeAll=d;e=a.reaction;f.reaction=e;b=a.reactionPlus;f.reactionPlus=b;c=a.mention;f.mention=c;d=a.replyMessage;f.replyMessage=d;e=a.replyButton;f.replyButton=e;b=a.phoneNumber;f.phoneNumber=b;c=a.attachmentVideo;f.attachmentVideo=c;d=a.attachmentImage;f.attachmentImage=d;e=a.attachmentGif;f.attachmentGif=e;b=a.voiceClip;f.voiceClip=b;c=a.tombstoneView;f.tombstoneView=c;d=a.messageBubble;f.messageBubble=d;e=a.attachmentAudio;f.attachmentAudio=e;b=a.attachmentKeyframe;f.attachmentKeyframe=b;c=a.xmaWebUrl;f.xmaWebUrl=c;d=a.xmaRtcMissedVideo;f.xmaRtcMissedVideo=d;e=a.xmaRtcMissedAudio;f.xmaRtcMissedAudio=e;b=a.xmaLiveLocation;f.xmaLiveLocation=b;c=a.xmaLocationSharing;f.xmaLocationSharing=c;d=a.forwardIcon;f.forwardIcon=d;e=a.xmaOpenNative;f.xmaOpenNative=e;b=a.sticker;f.sticker=b;c=a.address;f.address=c;d=a.forwardButton;f.forwardButton=d;e=a.removeButton;f.removeButton=e;b=a.removeForYouself;f.removeForYouself=b;c=a.removeForEveryone;f.removeForEveryone=c;d=a.moreButton;f.moreButton=d;e=a.copyButton;f.copyButton=e;b=a.callPhoneNumber;f.callPhoneNumber=b;c=a.copyPhoneNumber;f.copyPhoneNumber=c;d=a.messageProfileIcon;f.messageProfileIcon=d;e=a.viewFacebookProfile;f.viewFacebookProfile=e;b=a.viewIgProfile;f.viewIgProfile=b;c=a.gotToChat;f.gotToChat=c;d=a.xmaRtcVideoEnded;f.xmaRtcVideoEnded=d;e=a.xmaRtxAudioEnded;f.xmaRtxAudioEnded=e;b=a.saveButton;f.saveButton=b;c=a.confirmRemove;f.confirmRemove=c;d=a.cancelRemove;f.cancelRemove=d;e=a.xmaShopsPdp;f.xmaShopsPdp=e;b=a.inboxrightArchive;f.inboxrightArchive=b;c=a.reactionIcon;f.reactionIcon=c;d=a.xmaContactShare;f.xmaContactShare=d;e=a.xmaCustomerInformationTemplate;f.xmaCustomerInformationTemplate=e;b=a.xmaRtcMissedGroupVideo;f.xmaRtcMissedGroupVideo=b;c=a.xmaRtcMissedGroupAudio;f.xmaRtcMissedGroupAudio=c;d=a.xmaRtcNewAudioDefault;f.xmaRtcNewAudioDefault=d;e=a.xmaAppointmentRequested;f.xmaAppointmentRequested=e;b=a.xmaAppointmentConfirmed;f.xmaAppointmentConfirmed=b;c=a.messengerThread;f.messengerThread=c;d=a.inboxrightFavorite;f.inboxrightFavorite=d;e=a.inboxrightUnfavorite;f.inboxrightUnfavorite=e;b=a.inboxrightUnbump;f.inboxrightUnbump=b;c=a.longpressinboxUnbump;f.longpressinboxUnbump=c;d=a.longpressinboxMute;f.longpressinboxMute=d;e=a.longpressinboxFavorite;f.longpressinboxFavorite=e;b=a.longpressinboxUnfavorite;f.longpressinboxUnfavorite=b;c=a.dismissMaxFavorite;f.dismissMaxFavorite=c;d=a.xmaPollPreview;f.xmaPollPreview=d;e=a.xmaFbVideoMediaViewer;f.xmaFbVideoMediaViewer=e;b=a.xmaMontageShare;f.xmaMontageShare=b;c=a.xmaYoutubePreview;f.xmaYoutubePreview=c;d=a.xmaAudioPlayer;f.xmaAudioPlayer=d}),null);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b={current:function(){}};c={current:function(){}};e={current:function(){}};f={current:function(){}};d={forwardMessage:b,openReactionsMenu:c,removeMessage:e,replyToMessage:f};var i=h.createContext(d);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}b={make:a};g.emptyValue=d;g.context=i;g.Provider=b}),98);
__d("useCometRouterIsChatEntity",["getCometEntityKey","recoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null){c("recoverableViolation")("Router state is not defined in `useCometRouterIsChatEntity`","work_comet_core");return!1}var b=c("getCometEntityKey")(a.main.route);if(b==null){c("recoverableViolation")("Entity keys are not defined for "+a.main.route.url,"work_comet_core");return!1}a=b.entity_type==="chat";b=b.section==="WORK_CHAT";return a||b}g["default"]=a}),98);
__d("MWChatReactionsAction.react",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResourceForInteraction","LsTargetType.re","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","ODS","emptyFunction","gkx","react","stylex","useCometRouterIsChatEntity"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useState,n={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq",$$css:!0}},o=i.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"9",cy:"10",r:"1.2"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"13",cy:"10",r:"1.2"})]});function a(a){var b=a.align;b=b===void 0?"middle":b;var e=a.closeActionsMenu,f=a.disableCustomReactions;f=f===void 0?!1:f;var g=a.hasReactionsV2,p=a.isBroadcastThread,q=a.isSecure;q=q===void 0?!1:q;var r=a.messageID,s=a.onVisibilityChange,t=a.selectedReaction,u=a.sendReaction,v=h._("__JHASH__czR8vxcW0mN__JHASH__");a=c("useCometRouterIsChatEntity")();a=c("gkx")("1224637")&&a;var w=m(function(){return!1}),x=w[0],y=w[1];w=k(d("MWV2MessageRowActionsContext.bs").context);var z=w.openReactionsMenu,A=j(function(a){if(c("gkx")("3417")){z.current=c("emptyFunction");return}},[z]);l(function(){return A},[A]);w=j(function(a){var b=t!==void 0&&g!==!0&&t===a;u(a,b);b||d("MWLSLogMessageClick.bs").logMessageClicked(r,d("LsTargetType.re").reaction);return e()},[t,g,u,e,r]);var B=j(function(a){return a?s(a):y(function(){return!1})},[y,s]);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:b==="end_"?"end":b,fallback:i.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:n.popoverLoading}),onVisibilityChange:B,popoverProps:{closeActionsMenu:e,disableCustomReactions:f,isBroadcastThread:p,isSecure:q,messageID:r,onClose:c("emptyFunction"),onSelect:w,selectedReaction:t,setShowEmojiPicker:y,showEmojiPicker:x},popoverResource:a&&c("gkx")("4433")?c("JSResourceForInteraction")("ChatGeminiAnimatedReactionsMenu").__setRef("MWChatReactionsAction.react"):c("JSResourceForInteraction")("MWChatReactionsMenu").__setRef("MWChatReactionsAction.react"),popoverType:x?"dialog":"menu",position:x?"below":"above",children:function(a,b,e,f,g,h){e=function(){b(),d("MWLSLogMessageClick.bs").logMessageClicked(r,d("LsTargetType.re").reactionIcon),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};z.current=e;return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:v,children:i.jsx(c("CometPressable.react"),{"aria-label":v,expanding:!0,onHoverIn:f,onHoverOut:g,onPress:e,onPressIn:h,overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon),children:o})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","bs_curry","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var b=h.useContext(d("MWV2MessageRowActionsContext.bs").context),e=b.openReactionsMenu,f=h.useCallback(function(){return c("bs_curry")._1(e.current)},[e]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var g=b.replyToMessage,i=h.useCallback(function(){return c("bs_curry")._1(g.current)},[g]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var j=b.forwardMessage,k=h.useCallback(function(){return c("bs_curry")._1(j.current)},[j]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var l=b.removeMessage,m=h.useCallback(function(){return c("bs_curry")._1(l.current)},[l]);b=h.useMemo(function(){var a=[],b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","likeMessage",f);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","replyToMessage",i);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","forwardMessage",k);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","removeMessage",m);a.push(b);return a},[f,i,k,m]);return h.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.keyCommands=e}),98);
__d("LSMessageContentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,4];e=[0,8];b=[0,16];var g=[0,32],h=[0,64],i=[0,128],j=[0,256],k=[0,512],l=[0,1024],m=[0,2048],n=[0,4096],o=[0,8192],p=[0,16384],q=[0,32768],r=[0,65536],s=[0,131072],t=[0,262144];f.text=a;f.mediaPreview=c;f.audioClip=d;f.xmaFallback=e;f.lwaWave=b;f.admin=g;f.fileAttachment=h;f.glyph=i;f.tombstone=j;f.storyReply=k;f.singleXma=l;f.hscrollXma=m;f.sticker=n;f.forwardIndicator=o;f.animatedImage=p;f.nullState=q;f.encryptionPlaceholder=r;f.futureproofPlaceholder=s;f.unavailablePlaceholder=t}),null);
__d("MWPBaseMessageListRowActions.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.children;a=a.outgoing;return h.jsx("div",{className:"x6s0dn4 x78zum5 x1ll7btr"+(a?" x15zctf7":" x1q0g3np"),role:"none",children:b})}i.displayName=i.name+" [from "+f.id+"]";e={make:i};function a(a){a=a.children;return h.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";d={make:a};var j={incoming:{paddingStart:"x1t2a60a",$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1ll7btr",zIndex:"x1n327nk",$$css:!0}};function b(a){var b=a.children,d=a.hasReactions,e=a.outgoing;a=a.ariaHidden;a=a!==void 0?a:!1;return h.jsx("div",{"aria-hidden":a,className:c("stylex")(j.root,d?j.moveUpToAccountForReactions:!1,e?j.outgoing:j.incoming),children:h.jsx(i,{outgoing:e,children:b})})}b.displayName=b.name+" [from "+f.id+"]";a={make:b,styles:j};g.ActionsList=e;g.ActionsListItem=d;g.Container=a}),98);
__d("MDSContextualMenuIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[h.jsx("circle",{cx:"11",cy:"6",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"11",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"16",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPCanRemoveMessageGlobally.bs",["LSMessageThreadUnsendabilityStatus.bs","bs_belt_Option","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("bs_belt_Option").mapWithDefault(a.cannotUnsendReason,!0,function(a){return c("bs_caml").i64_eq(a,d("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});b=c("bs_belt_Option").mapWithDefault(b.cannotUnsendReason,!0,function(a){return c("bs_caml").i64_eq(a,d("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});if(a)return b;else return!1}b=a;g.make=b}),98);
__d("MWV2LogMessageClick.bs",["I64","LSMessagingThreadTypeUtil.bs","Promise","ReQL.bs","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick.bs");function a(a,e,f,g,i){i=e.threadKey;c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:i,tl:0})).then(function(a){a!==void 0&&!d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&h.onReady(function(a){a.log(function(){var a={};g!==void 0&&(a.action=g);a.browserName=c("UserAgentData").browserName;return{click:{category:2},click_target:{type:f},extra:JSON.stringify(a),message:{id:e.messageId,sender_id:void 0,sent_time:d("I64").to_float(e.timestampMs)},thread:{id:d("I64").to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return b("Promise").resolve()}))}g.log=a}),98);
__d("MWV2MessageRowIsRowFocusedContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){}function b(){}e={isDialogOpened:!1,setFocused:a,setIsDialogOpened:b};var i=h.createContext(e);function c(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}f={make:c};g.emptyValue=e;g.context=i;g.Provider=f}),98);
__d("MWV2ContextualActionsButton.bs",["fbt","CometDeferredPopoverTrigger.react","CometPressable.react","I64","JSResourceForInteraction","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.re","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MDSContextualMenuIcon.react","MWCMThreadTypes.react","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWPCanRemoveMessageGlobally.bs","MWTooltip.react","MWV2LogMessageClick.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","emptyFunction","gkx","qex","react","requireDeferred","useCometLazyDialog","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("react"),j=c("requireDeferred")("MWV2ContextualActionsMenuDeferred.react").__setRef("MWV2ContextualActionsButton.bs");function a(a){var b=a.canRemoveMessageGlobally,e=a.closeActionsMenu,f=a.extraActions,g=a.message,k=a.setMoreMenuOpen,l=a.showForwardActionInContextualMenu,m=a.showReplyActionInContextualMenu,n=a.thread,o=c("useReStore")(),p=h._("__JHASH__I1DdCdLzOkz__JHASH__");a=c("useCommunityFolder")(n);var q=d("MWPCanRemoveMessageGlobally.bs").make(n,g),r=d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType),s=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(r)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(o.table("participants")),{hd:n.threadKey,tl:{hd:g.senderId,tl:0}});else return d("SortedAsyncIterable.bs").empty()},[o,JSON.stringify(n.threadKey)])),t=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(r)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(o.table("contacts")),{hd:g.senderId,tl:0});else return d("SortedAsyncIterable.bs").empty()},[JSON.stringify(g.senderId),o])),u=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").adminRecallMessage,n);a=a!=null?d("LSCommunityBitOffset.bs").has(d("LSCommunityCapabilityBitOffset.re").adminActions,a):!1;var v=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").reportMessageToAdmin,n),w=d("LSMessagingThreadTypeUtil.bs").isSecure(n.threadType),x=(!w||d("MAWGating").isFeatureLimitEnabled())&&d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(),y=!x&&c("gkx")("1840885"),z=d("MWPActor.bs").useActor();t=t!==void 0&&((t=d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").isCommunityBotPage,t))!=null?t:!1);var A=c("qex")._("898")===!0&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").pinnedMessagesV2,n)&&!g.isUnsent,B=g.isUnsent;B=r?B?!1:q?!a&&t?!1:!0:u:w?!x&&(d("MAWGating").isUnsendGlobalEnabled()&&d("I64").equal(g.senderId,z)&&!g.isUnsent||d("MAWGating").isUnsendLocallyEnabled()):y;q=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWV2RemoveMessageDialog.bs").__setRef("MWV2ContextualActionsButton.bs"));var C=q[0];u=(a=s==null?void 0:s.isAdmin)!=null?a:!1;w=g.unsentTimestampMs;x=w!==void 0;y=d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&v&&!u&&!d("I64").equal(z,g.senderId)&&!x&&!t;q=d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&!d("I64").equal(z,g.senderId)&&!x;s=i.useCallback(function(){var a={message:g,onClose:c("emptyFunction"),thread:n};return C(a,c("emptyFunction"))},[g,C]);a=i.useContext(d("MWV2MessageRowActionsContext.bs").context);var D=a.removeMessage;B?D.current=s:D.current=c("emptyFunction");var E=i.useCallback(function(){if(c("gkx")("3417")){D.current=c("emptyFunction");return}},[D]);i.useEffect(function(){return E},[E]);w=i.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context);if(!(l||m||A||B||q||f!=null))return null;var F=w.setFocused;return i.jsx(c("CometDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:function(a){k(function(){return a});return F(function(){return a})},popoverProps:{canRemoveMessageGlobally:b,closeActionsMenu:e,extraActions:f,message:g,showForwardActionInContextualMenu:l,showPinMessageActionInContextualMenu:A,showReplyActionInContextualMenu:m,showReportCommunityMessageToAdmin:y,showReportCommunityMessageToFacebook:q,showUnsendInContextualMenu:B},popoverResource:j,popoverType:"menu",position:"above",children:function(a,b){var e=function(){b();return d("MWV2LogMessageClick.bs").log(o,g,48)};return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:p,children:i.jsx(c("CometPressable.react"),{"aria-label":p,expanding:!0,onPress:e,overlayDisabled:!0,ref:a,testid:void 0,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSContextualMenuIcon.react"),{})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ForwardMessageButton.bs",["fbt","LSBitFlag.bs","LSMessageContentType.bs","LSMessagingThreadTypeUtil.bs","MAWGating","MWChatForwardAction.bs","MWChatMessageId.bs","MWV2ForwardMessage.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_format","bs_caml_obj","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){var e=c("useReStore")();return d("ReQLSubscription.bs").useFirstExn(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:b.threadKey,tl:0})},[e,JSON.stringify(b.threadKey)]))}function a(a){a=a.message;var b=c("useReStore")();b=j(b,a);var e=d("MAWGating").isForwardEnabled()&&d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType),f=d("MAWGating").isCrossForwardEnabled();e=e?f?"cross_transport":"secure":f?"cross_transport":"open_";f=d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(a.threadKey),a.messageId,c("bs_int64").to_string(a.timestampMs));var g=d("MWV2ForwardMessage.bs").useForwardMessage(a);b=!d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType);a=d("LSBitFlag.bs").has(d("LSMessageContentType.bs").text,a.displayedContentTypes)&&!a.textHasLinks||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").animatedImage,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").mediaPreview,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").audioClip,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").storyReply,a.displayedContentTypes)||c("bs_caml_obj").caml_equal(a.stickerId,c("bs_caml_format").caml_int64_of_string("369239263222822"))||c("bs_caml_obj").caml_equal(a.stickerId,c("bs_caml_format").caml_int64_of_string("369239343222814"))||c("bs_caml_obj").caml_equal(a.stickerId,c("bs_caml_format").caml_int64_of_string("369239383222810"));b=b&&!a;return i.jsx(d("MWChatForwardAction.bs").make,{dropToggle:b,forwardDialogType:e,label:h._("__JHASH__GvPr2MwluxY__JHASH__"),messageID:f,onForward:g})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2MessageReactionButton.react",["I64","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.re","MAWGating","MAWPSendOrRemoveReaction.bs","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatMessageId.bs","MWChatReactionsAction.react","MWLSFeatureLimitedStatus.bs","MWPActor.bs","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function k(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey]);if(f!==void 0)return f.reaction}function l(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey]);return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reaction_v2_types")).filter(function(a){return e?d("I64").equal(a.reactionFbid,e.reactionFbid):!1}).map(function(a){return a.reactionLiteral})},[b,e])}function a(a){var b=a.closeActionsMenu,e=a.message,f=a.setReactionsMenuOpen;a=a.thread;var g=k(e),m=l(e),n=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),o=d("MAWPSendOrRemoveReaction.bs").useSendOrRemoveReaction(e,n,"reaction_tray"),p=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();p=(!n||d("MAWGating").isFeatureLimitEnabled())&&p;var q=d("I64").to_string(a.threadKey),r=d("I64").to_string(e.timestampMs),s=j(function(){return d("MWChatMessageId.bs").makeSent(q,e.messageId,r)},[q,e.messageId,r]),t=i(function(a,b){return o(e.messageId,b?void 0:a,b?"remove_reaction":"reaction")},[o,e.messageId]),u=i(function(a){return f(function(){return a})},[f]),v=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType),w=v&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(c("LSThreadCapabilityBitOffset.re").reactionsV2,a);a=c("MWCMIsAnyCMThread")(a.threadType)&&!v&&c("gkx")("2640")&&d("LSThreadBitOffset.bs").has(c("LSThreadCapabilityBitOffset.re").reactionsV2,a);a=w||a;if(p)return null;else return h.jsx(c("MWChatReactionsAction.react"),{closeActionsMenu:b,disableCustomReactions:w,hasReactionsV2:a,isBroadcastThread:v,isSecure:n,messageID:s,onVisibilityChange:u,selectedReaction:a?m:g,sendReaction:t})}g["default"]=a}),98);
__d("MWV2OneToOneThreadBlockedContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext(!1);function a(){return h.useContext(i)}function b(a){var b=a.blocked;a=a.children;return h.createElement(i.Provider,{children:a,value:b})}c=b;g.context=i;g.useIsBlocked=a;g.make=c}),98);
__d("MDSReplyActionSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("svg",{height:"22px",viewBox:"1 1 21 21",width:"22px",children:h.jsx("g",{className:"x148u3ch",fillRule:"evenodd",strokeWidth:"1",children:h.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){}var i=h.createContext(a);function b(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}c={make:b};e=a;g.context=i;g.Provider=c;g.emptyValue=e}),98);
__d("MWV2ReplyButton.bs",["fbt","CometPressable.react","MDSReplyActionSvgIcon.react","MWPReplyContext.bs","MWTooltip.react","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){}function a(a){var b=a.message;a=h._("__JHASH__xFCj85w6vra__JHASH__");var e=i.useContext(d("MWPReplyContext.bs").context),f=e.setReply,g=i.useContext(d("MWV2MessageListIsRowModalContext.bs").context),k=function(){c("bs_curry")._2(f,{messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey);return c("bs_curry")._1(g,function(){return""})};e=i.useContext(d("MWV2MessageRowActionsContext.bs").context);var l=e.replyToMessage;l.current=k;var m=i.useCallback(function(){if(c("gkx")("3417")){l.current=j;return}},[l]);i.useEffect(function(){return m},[m]);return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:a,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx(c("CometPressable.react"),{"aria-label":a,expanding:!0,onPress:function(){return k()},overlayDisabled:!0,testid:void 0,children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSReplyActionSvgIcon.react"),{})})})})})}a.displayName=a.name+" [from "+f.id+"]";b=24;e=a;f=b;a=j;b=e;g.minMessageHeight=f;g.noop=a;g.make=b}),98);
__d("MWV2UseMessageForwardAction.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSMessagingThreadTypeUtil.bs","MAWGating","MWChatMessageId.bs","MWV2ForwardMessage.bs","MWV2LogMessageClick.bs","MWV2MessageRowIsRowFocusedContext.bs","UseMWChatForward.re","bs_caml_format","bs_caml_obj","bs_curry","bs_int64","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=c("useReStore")(),f=c("gkx")("1224637"),g=!f&&d("MAWGating").isForwardEnabled()&&d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);f=!f&&d("MAWGating").isCrossForwardEnabled();g=g?f?"cross_transport":"secure":f?"cross_transport":"open_";f=d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(b.threadKey),b.messageId,c("bs_int64").to_string(b.timestampMs));var i=d("MWV2ForwardMessage.bs").useForwardMessage(b),j=h.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context),k=j.setIsDialogOpened,l=j.setFocused;j=!d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);a=d("LSBitFlag.bs").has(d("LSMessageContentType.bs").text,b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").animatedImage,b.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").mediaPreview,b.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").audioClip,b.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").storyReply,b.displayedContentTypes)||c("gkx")("2016")&&d("LSBitFlag.bs").has(d("LSMessageContentType.bs").singleXma,b.displayedContentTypes)||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239263222822"))||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239343222814"))||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239383222810"));var m=d("UseMWChatForward.re").useMWChatForward({dropToggle:j&&!a,forwardDialogType:g,messageID:f,onClose:function(){c("bs_curry")._1(k,function(){return!1});return c("bs_curry")._1(l,function(){return!0})},onSend:i});return function(){d("MWV2LogMessageClick.bs").log(e,b,44);if(!(m==null)){c("bs_curry")._1(k,function(){return!0});return c("bs_curry")._1(m.onClick)}}}b=a;g.useHook=b}),98);
__d("MessagingAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,12];f.none=a;f.sticker=c;f.image=d;f.animatedImage=e;f.video=b;f.audio=g;f.file=h;f.xma=i;f.ephemeralImage=j;f.ephemeralVideo=k;f.selfieSticker=l;f.soundBite=m}),null);
__d("MWMessageRowActions.bs",["I64","LSAuthorityLevel.re","LSBitFlag.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.re","LSMessageContentType.re","LSMessageSendStatusV2.re","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.re","MAWGating","MAWMsg.bs","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWLSFeatureLimitedStatus.bs","MWPBaseMessageListRowActions.bs","MWTooltipGroup.react","MWV2ContextualActionsButton.bs","MWV2ForwardMessageButton.bs","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2ReplyButton.bs","MWV2UseMessageForwardAction.bs","MessagingAttachmentType.re","ReQL","ReQLSuspense","cr:10871","emptyFunction","gkx","qex","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useState;function m(a){var b=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(a.threadKey)},[b,a.threadKey])}function n(a){var e=a.alwaysShowForwardForMediaMessages,f=a.canRemoveMessageGlobally,g=a.closeActionsMenu,l=a.extraActions,n=a.interactedWith,o=a.message,p=a.outgoing,q=a.setMoreMenuOpen;a=a.setReactionsMenuOpen;var r=m(o),s=d("MWV2OneToOneThreadBlockedContext.bs").useIsBlocked(),t=c("useReStore")(),u=r.threadKey,v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(t.table("contacts")).getKeyRange(u)},[u,t]);v=v!==void 0?(v=d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.re").restrictPlaced,v))!=null?v:!1:!1;var w=o.ephemeralDurationInSec;w=w!==void 0?d("I64").gt(w,d("I64").zero):!1;var x=d("LSMessagingThreadTypeUtil.bs").isSecure(r.threadType),y=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!x||d("MAWGating").isFeatureLimitEnabled()),z=d("I64").equal(o.displayedContentTypes,d("LSMessageContentType.re").sticker),A=d("I64").equal(o.displayedContentTypes,d("LSMessageContentType.re").singleXma),B=!d("I64").equal(o.displayedContentTypes,d("LSMessageContentType.re").text),C=c("MWCMIsAnyCMThread")(r.threadType)&&d("I64").equal(o.sendStatusV2,d("LSMessageSendStatusV2.re").nonRetriableError),D=d("ReQLSuspense").useFirst(function(){return B?d("ReQL").fromTableAscending(t.table("attachments")).getKeyRange(o.threadKey,o.messageId):d("ReQL").empty()},[t,o.messageId,o.threadKey,B]);w=(x?d("MAWGating").isForwardEnabled()&&!w&&!z&&!A:!0)&&c("gkx")("1844772")&&!s&&!v&&!y&&!o.isUnsent&&!C&&!d("MAWMsg.bs").isPlaceholder(o)&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.re").messageForward,r)&&d("I64").gt(o.authorityLevel,d("LSAuthorityLevel.re").optimistic)&&(D!==void 0&&d("I64").equal(D.attachmentType,d("MessagingAttachmentType.re").xma)&&(D.attachmentCta1Id!==void 0||D.attachmentCta2Id!==void 0||D.attachmentCta3Id!==void 0||D.defaultCtaId!==void 0)?D.isSharable:!0);z=!s&&!v&&!C&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.re").messageReply,r)&&!o.isUnsent;A=d("MWCMThreadTypes.react").isBroadcastThread(r.threadType)&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.re").reactionsV2,r);y=c("MWCMIsAnyCMThread")(r.threadType)&&!d("MWCMThreadTypes.react").isBroadcastThread(r.threadType)&&c("gkx")("2551")&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.re").reactionsV2,r);D=A||y;A=!s&&!v&&!o.isUnsent&&!C&&(d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.re").reactions,r)||D)&&(x?c("qex")._("1525")===!0:!0);y=z&&!e&&n;s=e&&w;v=n&&A;C=x&&d("I64").equal(o.sendStatusV2,d("LSMessageSendStatusV2.re").retriableError);D=d("MWV2UseMessageForwardAction.bs").useHook(r,o);e=j(d("MWV2MessageRowActionsContext.bs").context);var E=e.forwardMessage;w&&(E.current=D);var F=i(function(){if(c("gkx")("3417")){E.current=c("emptyFunction");return}},[E]);k(function(){return F},[F]);return h.jsxs(d("MWPBaseMessageListRowActions.bs").ActionsList.make,{outgoing:p,children:[s?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ForwardMessageButton.bs").make,{message:o})}):null,v?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(c("MWV2MessageReactionButton.react"),{closeActionsMenu:g,message:o,setReactionsMenuOpen:a,thread:r})}):null,b("cr:10871")!=null&&C?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("cr:10871").make,{message:o})}):null,y?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ReplyButton.bs").make,{message:o})}):null,n?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ContextualActionsButton.bs").make,{canRemoveMessageGlobally:f,closeActionsMenu:g,extraActions:l,message:o,setMoreMenuOpen:q,showForwardActionInContextualMenu:!s&&w,showReplyActionInContextualMenu:!y&&z,thread:r})}):null]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden,e=a.canRemoveMessageGlobally,f=a.extraActions,g=a.focused,i=a.hasReactions,j=a.hovered,k=a.message;a=a.outgoing;var m=l(function(){return!1}),o=m[0];m=m[1];var p=l(function(){return!1}),q=p[0];p=p[1];var r=d("LSBitFlag.bs").has(d("LSMessageContentType.re").mediaPreview,k.displayedContentTypes);j=j||g||q||o;return h.jsx(c("MWTooltipGroup.react"),{children:h.jsx(d("MWPBaseMessageListRowActions.bs").Container.make,{ariaHidden:(g=b)!=null?g:!1,hasReactions:i,outgoing:a,children:j||r?h.jsx(n,{alwaysShowForwardForMediaMessages:r,canRemoveMessageGlobally:(q=e)!=null?q:!0,closeActionsMenu:c("emptyFunction"),extraActions:(o=f)!=null?o:null,interactedWith:j,message:k,outgoing:a,setMoreMenuOpen:p,setReactionsMenuOpen:m}):null})})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=36;e=b+6|0;d=e+14|0;var i={bubble:{maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"xm7lytj",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",":after_borderTopColor":"xzackxk",":after_borderEndColor":"x1vvs6jl",":after_borderBottomColor":"x1p8yz0e",":after_borderStartColor":"x1e72984",":after_borderTopStartRadius":"x1qxsuse",":after_borderTopEndRadius":"x1pwr4jm",":after_borderBottomEndRadius":"xgt0i0e",":after_borderBottomStartRadius":"xhiudvi",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"x1pdxsal",":after_borderEndWidth":"xgyc039",":after_borderBottomWidth":"xza5l1d",":after_borderStartWidth":"xcavrb8",":after_bottom":"x1p4c0ny",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x14rr3af",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"x1fefmpr",":after_top":"x1a3valx",$$css:!0},incoming_connect_bot:{":after_borderBottomStartRadius":"x1fyu3th",$$css:!0},incoming_connect_top:{":after_borderTopStartRadius":"xe80118",$$css:!0},outgoing_connect_bot:{":after_borderBottomEndRadius":"x7yvbyb",$$css:!0},outgoing_connect_top:{":after_borderTopEndRadius":"x1chp5k1",$$css:!0},precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx("div",{className:c("stylex")(i.bubble,e?f?i.outgoing_connect_top:i.incoming_connect_top:!1,!a&&d?f?i.outgoing_connect_bot:i.incoming_connect_bot:!1,a?i.precedes_xma:!1),role:"none",children:b})}a.displayName=a.name+" [from "+f.id+"]";f=18;a=a;g.borderWidth=b;g.smallRadius=e;g.largeRadius=d;g.baseSize=f;g.make=a}),98);
__d("MWV2ChatBubble.bs",["MWPColorUtils.bs","MWPMessageIsReply.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","MWUseInlineStyleforReply","bs_caml_splice_call","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emphasis_ring:{backgroundColor:"xjbqb8w",borderTop:"xkaxx8j",borderEnd:"xif9i9b",borderBottom:"x1ueo1nx",borderStart:"x1jawzb3",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6",":after_borderTopColor":"x18gol9d",":after_borderEndColor":"x1fy2a9x",":after_borderBottomColor":"xx8rwve",":after_borderStartColor":"xcgf5qo",":after_borderTopStartRadius":"x1re2sdf",":after_borderTopEndRadius":"x153aelg",":after_borderBottomEndRadius":"xmcu26r",":after_borderBottomStartRadius":"x1egkzb1",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"xmm20zi",":after_borderEndWidth":"x1e2mm14",":after_borderBottomWidth":"xozjuat",":after_borderStartWidth":"x19hdz91",":after_bottom":"x1zht7t",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x8tsall",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"xdkcqcq",":after_top":"xaic3fe",":after_zIndex":"x1ai82m1",":before_borderTopColor":"x1qr7w4a",":before_borderEndColor":"x1ncy427",":before_borderBottomColor":"x1rhx1n7",":before_borderStartColor":"xmqa6l6",":before_borderTopStartRadius":"xn7tiao",":before_borderTopEndRadius":"x14kh6e",":before_borderBottomEndRadius":"xlhwqg6",":before_borderBottomStartRadius":"x1ue140e",":before_borderTopStyle":"x183k7y4",":before_borderEndStyle":"x1uj30e5",":before_borderBottomStyle":"x1ud4nwh",":before_borderStartStyle":"x1i2jaea",":before_borderTopWidth":"x1rcj5n0",":before_borderEndWidth":"x1repur9",":before_borderBottomWidth":"x16kf9eg",":before_borderStartWidth":"x13qqqgl",":before_bottom":"x1k7te01",":before_content":"x1gftdam",":before_display":"x1m8qh1o",":before_end":"x1tqfvzf",":before_opacity":"x2e9uc7",":before_pointerEvents":"xob360l",":before_position":"x1te0kx0",":before_start":"xx38qm5",":before_top":"x1nfgzt4",":before_zIndex":"x1wl4osp",$$css:!0},emphasis_ring_before_xma:{borderBottom:"x112ta8",":after_borderBottom":"xc1oo7v",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",":before_borderBottom":"x31l8rw",":before_borderBottomEndRadius":"xe8dl21",":before_borderBottomStartRadius":"xv9yadz",$$css:!0},emphasis_ring_connect_bottom_incoming:{":after_borderBottomStartRadius":"xdjm15t",":before_borderBottomStartRadius":"xgdbwlz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{":after_borderBottomEndRadius":"x1dmanbz",":before_borderBottomEndRadius":"ximmp30",$$css:!0},emphasis_ring_connect_top_incoming:{":after_borderTopStartRadius":"xh4u4d4",":before_borderTopStartRadius":"x66tqvc",$$css:!0},emphasis_ring_connect_top_outgoing:{":after_borderTopEndRadius":"xlhwsbn",":before_borderTopEndRadius":"xvpvy2v",$$css:!0},emphasis_ring_xma:{borderTop:"x76ihet",width:"x1o2z316",":after_borderTop":"xmeydad",":after_borderTopEndRadius":"x9k7ksk",":after_borderTopStartRadius":"x15jwe59",":before_borderTop":"xw0djt0",":before_borderTopEndRadius":"x1quqxg3",":before_borderTopStartRadius":"xgdrrmm",$$css:!0}};function j(a,b){if(b)return{backgroundColor:d("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function k(a){var b=a.children,c=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.precedesXMA,i=a.threadTheme;a=a.xmaLayout;i=j(i,f);return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:c,connectTop:e,outgoing:f,precedesXMA:g,style:i,xmaLayout:a,children:b})}k.displayName=k.name+" [from "+f.id+"]";b={make:k,useInlineStyles:j};function l(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.gradientColors,i=a.outgoing,j=a.precedesXMA;a=a.threadTheme;a=c("MWUseInlineStyleforReply")(a,g,i);return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,style:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";e={make:l,useInlineStyles:c("MWUseInlineStyleforReply")};function m(a){var b=a.children,c=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx(d("MWPTransparentMessageBubble.bs").make,{connectBottom:c,connectTop:e,outgoing:f,precedesXMA:a,children:b})}m.displayName=m.name+" [from "+f.id+"]";var n={make:m};function o(a){var b=a.children,d=a.hasXMA,e=a.isBeforeXMA,f=a.isOutgoing,g=a.shouldConnectBottom;a=a.shouldConnectTop;e=[i.emphasis_ring,e?i.emphasis_ring_before_xma:g?f?i.emphasis_ring_connect_bottom_outgoing:i.emphasis_ring_connect_bottom_incoming:!1,d?a?i.emphasis_ring_xma:!1:a?f?i.emphasis_ring_connect_top_outgoing:i.emphasis_ring_connect_top_incoming:!1];return h.jsx("div",{className:c("bs_caml_splice_call").spliceApply(c("stylex"),[e]),"data-testid":void 0,children:b})}o.displayName=o.name+" [from "+f.id+"]";f={make:o};function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.message,i=a.outgoing,j=a.precedesXMA,n=a.xmaLayout;n=n===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:n;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var p=d("MWPThreadTheme.bs").useHook(),q=p.gradientColors;p=p.threadTheme;g=c("MWPMessageIsReply.bs")(g);g=g?h.jsx(l,{connectBottom:e,connectTop:f,gradientColors:q,outgoing:i,precedesXMA:j,threadTheme:p,children:b}):i&&q.length>1?h.jsx(m,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,children:b}):h.jsx(k,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,threadTheme:p,xmaLayout:n,children:b});if(a)return h.jsx(o,{hasXMA:!1,isBeforeXMA:j,isOutgoing:i,shouldConnectBottom:e,shouldConnectTop:f,children:g});else return g}a=a;b=b;e=e;n=n;f=f;a=a;g.Solid=b;g.Reply=e;g.Transparent=n;g.EmphasisRing=f;g.make=a}),98);
__d("MWV2ChatErrorBubble.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return i.jsxs("div",{className:""+(a?" x1vjfegm":" xcrg951"),children:[a?null:i.jsx("div",{className:"x36qwtl xh8yej3 xcrg951"}),i.jsx(d("MWV2TombstonedMessage.bs").make,{xstyle:j.withBackground,children:h._("__JHASH__i7dsmazT6Cf__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","CometGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWPThreadTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={heads:{display:"x78zum5",flexShrink:"x2lah0s",marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0},img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",paddingEnd:"x19um543",paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function k(a,b){var e=a.length,f=e>5;e=Math.max(e-(f?4:5)|0,0);var g=a.slice(e);if(f){f=Math.max(e-9|0,0);a=a.slice(f,e);var k="\n"+h._("__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",f,[0])]);a=i.jsxs("ul",{children:[a.reverse().map(function(a,b){return i.jsx("li",{children:a.name},String(b))}),f>0?i.jsx("li",{children:k},"overflow"):null]});f=i.jsx(c("MWTooltip.react"),{align:function(){switch(c("bs_caml_obj").caml_equal(b,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),forceInlineDisplay:!0,position:"above",tooltip:a,children:i.jsx("span",{className:"x1qhmfi1 x1lq5wgf xgqcy7u x30kzoy x9jhf4c xi81zsa x1ncwhqj x117nqv4 x1hkbg2g xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x150jy0e x18d9i69 x1e558r4 x2b8uid",children:h._("__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",e,[0])])})},"overflow")}else f=null;return c("bs_array").append([f],g.map(function(a,e){var f=a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return i.jsx(c("MWTooltip.react"),{align:function(){switch(c("bs_caml_obj").caml_equal(b,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),forceInlineDisplay:!0,position:"above",tooltip:f,children:a.imageSrc===""?i.jsx(c("CometGlimmer.react"),{index:e,xstyle:j.img}):i.jsx("img",{alt:f,className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x1v9usgg x19um543 x1m6msm xxymvpz x6jxa94",src:a.imageSrc})},a.id)}))}function a(a){var b=a.messageSeenBy;a=d("MWPThreadTheme.bs").useHook();var e=i.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context),f=e.setIsDialogOpened,g=e.setFocused,l=b.length,m=d("MWLSThreadDisplayContext.bs").useHook(),n=i.useRef(null);return i.jsxs("div",{className:c("stylex")(j.root,d("MWPThreadTheme.bs").isGradient(a)?j.mask:!1),role:"none",children:[i.jsx("div",{className:"x1r8uery x1iyjqo2"}),i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{messageSeenBy:b,onClose:function(){}},dialogResource:c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{"class":"fluid",name:"MWV2ChatSeenHeadsDialog"}).__setRef("MWV2ChatSeenHeadsRow.bs"),onHide:function(){c("bs_curry")._1(f,function(){return!1});return c("bs_curry")._1(g,function(){return!0})},children:function(a){return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(l))]).toString(),onPress:function(){c("bs_curry")._1(f,function(){return!0});return c("bs_curry")._1(a)},overlayDisabled:!0,ref:n,xstyle:function(){return[j.heads]},children:i.jsx(c("MWTooltipGroup.react"),{children:k(b,m)})})}})]})}a.displayName=a.name+" [from "+f.id+"]";b=5;e=a;g.getImageRow=k;g.maxNumberOfHeads=b;g.make=e}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={statusText:{paddingBottom:"xwib8y2",$$css:!0}};function k(a){var b=a.alignLeft;a=a.num;return i.jsx(c("MWStatusText.react"),{alignLeft:b,text:h._("__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",String(a))]).toString(),xstyle:j.statusText})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft;a=a.status;var e=d("MWMessageDeliveryStatus").getBroadcastStatusTitle(a);switch(a.type){case"NoneStatus":return null;case"Error":return i.jsx(c("MWStatusText.react"),{error:!0,text:e.toString(),xstyle:j.statusText});case"SingleSeenHead":return i.jsx(k,{num:1});case"MultipleSeenHeads":case"DeliveredAndRead":break;case"SeenCount":return i.jsx(k,{alignLeft:b,num:a.count});case"Loading":return i.jsx(c("MWStatusText.react"),{alignLeft:b,text:e.toString(),xstyle:j.statusText});case"RetriableError":return i.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:e.toString(),xstyle:j.statusText});default:return i.jsx(c("MWStatusText.react"),{text:e.toString(),xstyle:j.statusText})}return i.jsx(k,{num:a.heads.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContent.react",["MWMessageDeliveryStatus","MWPMessageListColumn.bs","MWV2ChatSeenHeadsRow.bs","MWV2MessageEndOfGroupContentTextOnly.react","cr:4876","cr:4879","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.alignLeft,f=a.isOutgoing,g=a.isTextOnly,i=a.message,j=a.status;a=a.useTextBasedMessageReceipts;if(g===!0)return h.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:e,status:j});if(j.type==="MultipleSeenHeads")return h.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:h.jsx(d("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:j.heads})});if(a&&j.type==="SingleSeenHead"&&b("cr:4876")!=null)return h.jsx(b("cr:4876"),{head:j.head,isOutgoing:f,text:d("MWMessageDeliveryStatus").getSingleSeenHead(j.head)});return f&&a&&b("cr:4879")!=null?h.jsx(b("cr:4879"),{alignLeft:e,message:i,status:j}):null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2MessageEndOfGroupContent=a}),98);
__d("MWV2MessageRowSimple.bs",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.domElementRef;return h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:h.jsx("div",{ref:a,role:"row",children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:h.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return h.jsx("div",{className:c("stylex")(i.row,e?i.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,role:"gridcell",tabIndex:0,children:b})}})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWText.react","MWTheme.bs","formatDate","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.timestamp;var b=d("MWTheme.bs").useTheme();return h.jsxs(c("BaseHeading.react"),{testid:void 0,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:h.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),h.jsx("div",{"aria-hidden":!0,className:"xjpr12u xr9ek0c x2b8uid"+(d("MWTheme.bs").isGradient(b)?" xcrg951":""),"data-scope":"date_break",children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:h.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.bs",["CometTextWithEntities.react","MWChatTextTransform.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!==void 0)if(b!==void 0)return h.jsxs(h.Fragment,{children:[h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform.bs").epdTextTransforms})," ",c("bs_caml_option").valFromOption(b)]});else return h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform.bs").epdTextTransforms});else if(b!==void 0)return c("bs_caml_option").valFromOption(b);else return null}b=a;e=b;g.make=e}),98);
__d("MWAdminMsgCtaLink.react",["CometLink.react","MWPColorUtils.bs","MWPThreadTheme.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=d("MWPThreadTheme.bs").useHook();f=f.threadTheme.fallbackColor;return h.jsx(c("CometLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils.bs").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGameCustomUpdateMuteManagementUserActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.mute=a;f.unmute=c}),null);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs",["CometLink.react","InstantGameCustomUpdateMuteManagementUserActionType.bs","LSCustomUpdateMuteManagement","LSFactory","MWAdminTextLayout.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.shouldMute,f=c("useReStore")();a=h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(f.table("admin_message_ctas")),function(a){return a.messageId===b.messageId}),1)},[f,b.messageId]);var g=d("ReQLSubscription.bs").useArray(a)[0].targetId;a=function(){var a=c("bs_int64").to_string(b.threadKey),i=c("bs_int64").to_string(c("bs_belt_Option").getExn(g)),j=e?d("InstantGameCustomUpdateMuteManagementUserActionType.bs").mute:d("InstantGameCustomUpdateMuteManagementUserActionType.bs").unmute;return h.useCallback(function(){f.runInTransaction(function(b){return c("LSCustomUpdateMuteManagement")(c("bs_caml_format").caml_int64_of_string(a),c("bs_caml_format").caml_int64_of_string(i),j,c("LSFactory")(b))},"readwrite")},[f,a,j])};var i=b.adminMsgCtaTitle,j={message:b};a=i!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:a(),target:"_blank",children:i})):void 0;a!==void 0&&(j.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},j))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("InstantGameBotMessageSubscriptionManagementUserActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.subscribe=a;f.unsubscribe=c}),null);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs",["CometLink.react","InstantGameBotMessageSubscriptionManagementUserActionType.bs","LSFactory","LSUpdateBotSubscription","MWAdminTextLayout.bs","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.shouldSubscribe,f=c("useReStore")();a=function(){var a=c("bs_int64").to_string(b.threadKey),g=e?d("InstantGameBotMessageSubscriptionManagementUserActionType.bs").subscribe:d("InstantGameBotMessageSubscriptionManagementUserActionType.bs").unsubscribe;return h.useCallback(function(){f.runInTransaction(function(b){return c("LSUpdateBotSubscription")(c("bs_caml_format").caml_int64_of_string(a),g,c("LSFactory")(b))},"readwrite")},[f,a,g])};var g=b.adminMsgCtaTitle,i={message:b};a=g!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:a(),target:"_blank",children:g})):void 0;a!==void 0&&(i.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},i))}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f=h.useRef(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{isOptOut:b,targetId:e,threadKey:a},dialogResource:c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react",{"class":"fluid",name:"MWNotificationMessagesManageNotificationsDialog"}).__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs"),children:function(a){return c("bs_curry")._2(d,a,f)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.bs",["CometPressable.react","CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,e=a.targetId,f=a.threadKey,g=a.title;a=function(a,b){return h.jsx(c("CometPressable.react"),{onPress:function(){return c("bs_curry")._1(a)},children:h.jsx(c("CometTextWithEntities.react"),{text:g})})};return h.jsx(d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs").make,{isOptOut:b,renderer:a,targetId:e,threadKey:f})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2AdminMsgCta.bs",["CometLazyDialogTrigger.react","CometLink.react","CurrentEnvironment","JSResource","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminMsgCtaLink.react","MWAdminTextLayout.bs","MWInboxRouteBuilder.bs","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs","MWNotificationMessageManageNotificationsAdminMsgCta.bs","MWPBumpEntityKey","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","bs_caml_option","bs_int64","cr:4069","react","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);h=function(){return a};return a}var i=d("react"),j=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgCta.bs"),k=b("cr:4069")==null?void 0:c("bs_caml_option").some(b("cr:4069")),l={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xo1l8bm",$$css:!0}};function a(a){a=a.message;var e=a.adminMsgCtaTitle,f={message:a};a=e!==void 0&&!(b("cr:4069")==null)?c("bs_caml_option").some(i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(k.make,{threadKey:a.threadKey,title:e})})):void 0;a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}a.displayName=a.name+" [from "+f.id+"]";a={make:a,styles:l};l={adminTextCta:{display:"x1rg5ohu",fontWeight:"x1s688f",$$css:!0}};function e(a){var b=a.isOptOut,e=a.message,f=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=e.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("admin_message_ctas")),{hd:e.threadKey,tl:{hd:e.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[f,e]));var g=e.adminMsgCtaTitle,h={message:e};b=g!==void 0&&a!==void 0?c("bs_caml_option").some(i.jsx("div",{className:"x1rg5ohu x1s688f",children:i.jsx(d("MWNotificationMessageManageNotificationsAdminMsgCta.bs").make,{isOptOut:b,targetId:a.targetId,threadKey:e.threadKey,title:g})})):void 0;b!==void 0&&(h.cta=c("bs_caml_option").valFromOption(b));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},h))}e.displayName=e.name+" [from "+f.id+"]";e={make:e,styles:l};function m(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(a!==void 0){var f=a.title;if(f!==void 0){a=a.actionUrl;a=a!==void 0?c("bs_caml_option").some(i.jsx(c("CometLink.react"),{color:"blueLink",href:a,target:"_blank",children:f})):void 0}else a=void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}m.displayName=m.name+" [from "+f.id+"]";l={make:m};function n(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var f=c("useCometLazyDialog")(c("JSResource")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgCta.bs")),g=f[0];if(a!==void 0){f=a.title;a=f!==void 0?c("bs_caml_option").some(i.jsx(c("CometLink.react"),{color:"blueLink",onClick:function(){g({entryPoint:"ADMIN_TEXT",onClose:function(){},threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:c("bs_int64").to_string(b.threadKey)}})},children:f})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}n.displayName=n.name+" [from "+f.id+"]";m={make:n};function o(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var f=c("useCometLazyDialog")(c("JSResource")("MWServicesLegalLiabilityDisclaimer.react").__setRef("MWV2AdminMsgCta.bs")),g=f[0];if(a!==void 0){f=a.title;a=f!==void 0?c("bs_caml_option").some(i.jsx(c("CometLink.react"),{color:"blueLink",onClick:function(){return g({entryPoint:"ADMIN_TEXT",onClose:function(){},threadKey:b.threadKey},function(){})},children:f})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}o.displayName=o.name+" [from "+f.id+"]";n={make:o};o={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0},lockIcon:{bottom:"x1o583il",display:"x1rg5ohu",position:"x1n2onr6",end:"x177n6bx",$$css:!0}};function p(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(a!==void 0){var f=a.title;a=f!==void 0?c("bs_caml_option").some(i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{},dialogResource:j,children:function(a,b){return i.jsx(c("CometLink.react"),{onClick:a,ref:b,target:"_blank",children:f})}})})):void 0}else a=void 0;var g={message:b};a!==void 0&&(g.cta=c("bs_caml_option").valFromOption(a));return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x1o583il x1rg5ohu x1n2onr6 x177n6bx",children:i.jsx(c("MDSLockSvgIcon.bs"),{color:"tertiary",size:16})}),i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},g))]})}p={make:p,styles:o};o={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0},lockIcon:{bottom:"x1o583il",display:"x1rg5ohu",position:"x1n2onr6",end:"x177n6bx",$$css:!0}};function q(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("mi_act_mapping_table")),{hd:b.threadKey,tl:0}),function(a){return c("bs_int64").to_string(a.jid)})},[e,JSON.stringify(b.threadKey)]));a=a!==void 0?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder.bs").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(h(),c("bs_int64").to_string(b.threadKey)),d("MWInboxRouteBuilder.bs").buildHomeURL({}));var f=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(f!==void 0){f=f.title;a=f!==void 0?c("bs_caml_option").some(i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("CometLink.react"),{href:a,target:"_self",children:f})})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}q.displayName=q.name+" [from "+f.id+"]";q={make:q,styles:o};function r(a){var b=a.message;a=a.shouldSubscribe;return i.jsx(d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs").make,{message:b,shouldSubscribe:a})}r.displayName=r.name+" [from "+f.id+"]";o={make:r};function s(a){var b=a.message;a=a.shouldMute;return i.jsx(d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs").make,{message:b,shouldMute:a})}s.displayName=s.name+" [from "+f.id+"]";r={make:s};function t(a){var b=a.message,e=c("useReStore")();a=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgCta.bs"));var f=a[0];a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var g=function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return f({onClose:function(){},threadKey:b.threadKey},function(){})};if(a!==void 0){a=a.title;g=a!==void 0?c("bs_caml_option").some(i.jsx(c("MWAdminMsgCtaLink.react"),{onClick:g,children:a})):void 0}else g=void 0;a={message:b};g!==void 0&&(a.cta=c("bs_caml_option").valFromOption(g));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},a))}t.displayName=t.name+" [from "+f.id+"]";s={make:t};f=a;t=e;a=l;e=m;l=n;m=p;n=q;p=o;q=r;o=s;g.AdminMsgArmadilloEphemeralChangeDuration=f;g.AdminMsgNotificationMessageManageNotifications=t;g.AdminMsgWebUrl=a;g.AdminMsgP2bPrivacyDisclosure=e;g.AdminMsgServiceBookingLegalDisclaimer=l;g.AdminMsgE2EEDescription=m;g.AdminMsgCutoverRollback=n;g.AdminMsgInstantGameBotMessageSubscriptionManagement=p;g.AdminMsgInstantGameCustomUpdateMuteManagement=q;g.AdminMsgShowPinnedMessages=o}),98);
__d("MWV2ChatAdminMessage.bs",["MWAdminTextLayout.bs","MWText.react","MWV2AdminMsgCta.bs","bs_curry","cr:4082","cr:4084","cr:4093","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){if(a!==void 0)return a.isAdminMessage;else return!1}var j={container:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return h.jsx("div",{className:c("stylex")(j.container,i(a)?j.containerThatProceedsAdminMessage:!1,i(d)?j.containerThatPrecedesAdminMessage:!1),children:h.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}k.displayName=k.name+" [from "+f.id+"]";e={make:k,styles:j};function a(a){var e=a.message,f=a.nextMessage;a=a.prevMessage;var g=!(b("cr:4082")==null)&&!(b("cr:4093")==null)?c("bs_curry")._3(b("cr:4082").buildLocalizedString,[],[],b("cr:4093").currentUserAddedDevice):"";g=e.text===g&&!(b("cr:4084")==null)?h.jsx(b("cr:4084").make,{}):null;var i=e.adminMsgCtaType,j,l=0;i!==void 0?i==="admin_msg_armadillo_ephemeral_change_duration"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgArmadilloEphemeralChangeDuration.make,{message:e}):i==="admin_msg_web_url"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgWebUrl.make,{message:e}):i==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386")?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgP2bPrivacyDisclosure.make,{message:e}):i==="admin_notification_messages_opt_out"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{isOptOut:!0,message:e}):i==="admin_notification_messages_opt_in"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{isOptOut:!1,message:e}):i==="admin_msg_thread_level_cutover"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgE2EEDescription.make,{message:e}):i==="admin_msg_e2ee_thread"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgE2EEDescription.make,{message:e}):i==="admin_msg_cutover_rollback"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgCutoverRollback.make,{message:e}):i==="xmat_instant_game_bot_message_subscribe"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:e,shouldSubscribe:!0}):i==="xmat_instant_game_bot_message_unsubscribe"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:e,shouldSubscribe:!1}):i==="admin_msg_view_pin_msgs_v2"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgShowPinnedMessages.make,{message:e}):i==="xmat_instant_game_custom_update_message_mute"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameCustomUpdateMuteManagement.make,{message:e,shouldMute:!0}):i==="xmat_instant_game_custom_update_message_unmute"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameCustomUpdateMuteManagement.make,{message:e,shouldMute:!1}):i==="admin_message_service_booking_legal_disclaimer"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgServiceBookingLegalDisclaimer.make,{message:e}):l=1:l=1;l===1&&(j=h.jsxs("div",{children:[h.jsx(d("MWAdminTextLayout.bs").make,{message:e}),g]}));return h.jsx(k,{nextMessage:f,prevMessage:a,children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:j})})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=f;g.Container=a;g.make=e}),98);
__d("MWV2MessageStartOfGroupContent.bs",["MWPDateBreak.react","MWPMessageListColumn.bs","MWV2ChatAdminMessage.bs","MWV2MessageRowSimple.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){if(b!==void 0)return c("bs_int64").compare(c("bs_int64").abs(c("bs_caml_int64").sub(a.timestampMs,b.timestampMs)),[0,9e5])>0;else return!0}function j(a){var b=a.domElementRef,e=a.message;a=a.prevMessage;if(i(e,a))return h.jsx(d("MWV2MessageRowSimple.bs").make,{domElementRef:b,children:h.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:h.jsx(d("MWV2ChatAdminMessage.bs").Container.make,{nextMessage:e,prevMessage:a,children:h.jsx(c("MWPDateBreak.react"),{timestamp:c("bs_caml_int64").to_float(e.timestampMs)})})})});else return null}b={make:j};function a(a){var b=a.domElementRef,c=a.message;a=a.prevMessage;return h.jsx(j,{domElementRef:b,message:c,prevMessage:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.Datebreak=f;g.make=a}),98);
__d("MWChatGutterItem.bs",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext.bs","MWMessageDeliveryStatus","MWMessageDeliveryStatusIcons","MWTheme.bs","MWTooltip.react","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{display:"x78zum5",flexShrink:"x2lah0s",height:"x1v9usgg",marginEnd:"xw3qccf",marginStart:"xsgj6o6",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},incoming:{flexDirection:"x15zctf7",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},noneStatus:{flexShrink:"x2lah0s",width:"x17z2i9w",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",$$css:!0},singleSeenHead:{marginEnd:"xw3qccf",marginStart:"xsgj6o6",$$css:!0}};function a(a){var b=a.errorMessage,e=a.status,f=a.incoming,g=a.hasRepliedToMessage,j=a.xstyle;a=a.id;f=f!==void 0?f:!1;g=g!==void 0?g:!1;j=j!==void 0?c("bs_caml_option").valFromOption(j):!1;a=a!==void 0?a:"";var k=d("MWTheme.bs").useTheme();k=d("MWTheme.bs").isGradient(k);var l=d("MWMessageDeliveryStatus").getStatusTitle(e),m=d("MWLSThreadDisplayContext.bs").useHook();b=e.type==="Error"&&b!==void 0?b:l;var n;switch(e.type){case"NoneStatus":n=h.jsx("div",{className:"x2lah0s x17z2i9w"});break;case"SingleSeenHead":n=h.jsx(c("MWChatSingleSeenHead.react"),{altText:l,head:e.head,xstyle:i.singleSeenHead});break;case"DeliveredAndRead":n=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredAndReadIcon,{size:12,xstyle:i.icon});break;case"MultipleSeenHeads":case"SeenCount":case"Loading":case"RetriableError":n=null;break;default:var o;switch(e.type){case"Sending":o=h.jsx(c("MWMessageDeliveryStatusIcons").SendingIcon,{size:12,xstyle:i.icon});break;case"Sent":o=h.jsx(c("MWMessageDeliveryStatusIcons").SentIcon,{size:12,xstyle:i.icon});break;case"Delivered":o=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredIcon,{size:12,xstyle:i.icon});break;case"Error":o=h.jsx(c("MWMessageDeliveryStatusIcons").ErrorIcon,{size:12,title:b.toString(),xstyle:i.icon});break;default:o=null}n=h.jsx("div",{children:o})}l=b!==""?h.jsx(c("MWTooltip.react"),{align:function(){switch(c("bs_caml_obj").caml_equal(m,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",tooltip:b,children:n}):n;return h.jsx("div",{className:c("stylex")(i.root,k&&!g?i.mask:!1,f?i.incoming:!1,j),"data-testid":void 0,id:a,role:"none",children:l})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.useRef(function(){})}g.useStopHoveringRef=a}),98);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","cr:1654","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.children,f=a.message,g=b("cr:1654")==null?void 0:b("cr:1654")(f.messageId);a=i.useMemo(function(){var a=f.unsentTimestampMs,b=f.isUnsent;return a!==void 0&&b?i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(f.timestampMs)))])}),i.jsx("div",{children:c("gkx")("1531920")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(a)))])})]}):i.jsxs("div",{children:[i.jsx("div",{children:!(g==null)&&g>0?"Send Latency: "+g.toString()+"ms":null}),i.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(f.timestampMs)))])})]})},[f]);return i.jsx(c("MWTooltip.react"),{align:"middle",position:"start",tooltip:a,children:e})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.make=f}),98);
__d("MAWEphemeralMessageTimer.bs",["fbt","CometScreenReaderText.react","MAWEphemeralConsts.bs","MWText.react","WATimeUtils","bs_caml_int32","bs_caml_int64","bs_curry","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){if(a<d("MAWEphemeralConsts.bs").oneMinuteInSeconds)return h._("__JHASH__hRyyGvVfwlZ__JHASH__",[h._param("seconds",String(a).concat("s"))]);else if(a<d("MAWEphemeralConsts.bs").oneHourInSeconds)return h._("__JHASH__ObtD_ZW4dqo__JHASH__",[h._param("minutes",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneMinuteInSeconds)).concat("m"))]);else if(a<d("MAWEphemeralConsts.bs").oneDayInSeconds)return h._("__JHASH__kfAHv6U0oM7__JHASH__",[h._param("hours",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneHourInSeconds)).concat("h"))]);else return h._("__JHASH__pQj617aM9Jj__JHASH__",[h._param("days",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneDayInSeconds)).concat("d"))])}function k(a){return h._("__JHASH__y-wqFg4O-A0__JHASH__",[h._param("time",a)])}function l(a,b){a=c("bs_caml_int64").to_int32(c("bs_caml_int64").sub(a,c("bs_caml_int64").of_float(d("WATimeUtils").unixTime())));if(b!==void 0&&a>c("bs_caml_int64").to_int32(b))return c("bs_caml_int64").to_int32(b);else return a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=i.useState(function(){return l(e,b)});var f=a[0],g=a[1];a=j(f);var h=k(a);i.useEffect(function(){f>0&&c("setTimeout")(function(){return c("bs_curry")._1(g,function(){return f-1|0})},d("MAWEphemeralConsts.bs").msPerSec)},[f,e]);return f>0?i.jsxs("div",{className:"x2b8uid xbkr7qi",children:[i.jsx(c("CometScreenReaderText.react"),{text:h}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(c("MWText.react"),{type:"meta1",children:a})})]}):null}b=a;g.getScreenReaderText=k;g.getRemainingTimeInSec=l;g.make=b}),98);
__d("MWPUseLinkRendererFactory.bs",["LSThreadCapabilityBitOffset.bs","MWPThreadCapabilitiesContext","MWTextWithEntities.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=!1);var b=d("MWPThreadCapabilitiesContext").useHook(),e=c("gkx")("1886144")&&b(d("LSThreadCapabilityBitOffset.bs").disableLinks);return function(b,c,f,g){return e?void 0:[f,d("MWTextWithEntities.bs").linkPlugin(b,g,c,a)]}}g.useHook=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a===void 0)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("MWUseTextRenderers.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","CometErrorBoundary.react","CometLink.react","GroupsCometJoinChatDialog.entrypoint","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder.bs","MWLSThread.bs","MWMessageCellFocusTable.bs","MWNavigation.bs","MWPUseLinkRendererFactory.bs","bs_belt_Option","bs_curry","bs_int64","qex","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWPCombineTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bold:{fontWeight:"x1s688f",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",$$css:!0}};function j(a){var b,e=a.folder,f=a.node,g=a.thread;a=d("MWNavigation.bs").useHook();var i=c("bs_curry")._1(a.openTabOrInbox,!0);a=c("bs_belt_Option").getWithDefault(g.hasPendingInvitation,!1);var j=c("useMWCMShouldGoToFullScreenChatHook")();b=(b=c("qex")._("873"))!=null?b:!1;return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometJoinChatDialog.entrypoint"),fallback:function(){return h.jsx(d("CometCardedDialogLoadingState.re").make,{})},otherProps:{invited:a,shouldGoToMessenger:j,shouldAutojoin:b},preloadParams:{groupID:c("bs_int64").to_string(e.fbGroupId),threadID:c("bs_int64").to_string(g.threadKey)},children:function(a){return h.jsx("span",{className:"x1s688f",role:"gridcell",children:h.jsx(c("CometLink.react"),{onClick:function(){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(g.threadType))return c("bs_curry")._1(a);else return c("bs_curry")._2(i,{clientThreadKey:g.clientThreadKey,threadKey:g.threadKey,threadType:g.threadType},"mention")},children:f})})}},c("bs_int64").to_string(g.threadKey))})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};function k(a){a.children;var b=a.folder,e=a.thread,f=c("bs_int64").to_string(b.folderId),g=c("bs_int64").to_string(e.threadKey);b=h.useCallback(function(a){return d("MWInboxCommunityThreadsRouteBuilder.bs").buildURL({folder_id:f,thread_key:g})},[f,g]);return h.jsx(d("MWNavigation.bs").Provider,{children:a.children,value:b})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;a=d("MWLSThread.bs").useThreadExn(a);var f=c("useCommunityFolder")(a);return f!=null?h.jsx(k,{folder:f,thread:a,children:h.jsx(j,{folder:f,node:e,thread:a})}):b}e={make:l};var m=["Command",function(a,b){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],n=["CommunityChannel",function(a,b){var e=h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})});return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:h.jsx(l,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b){b=a!==void 0?a:!1;b;a=d("MWPUseLinkRendererFactory.bs").useHook();return c("useMWPCombineTextRenderers")([a([i.underline],"chat_message_regular_link","Link"),a([i.bold],"profile_link","Profile"),a([i.highlight],"highlight","Highlight"),m,n,["MessengerTextFormatting",d("MWChatTextFormatting").messageRenderer]])}f=b;b=e;e=m;var o=n;a=a;g.CommunityChannelLink=f;g.CommunityChannelLinkContainer=b;g.commandRenderer=e;g.communityChannelRenderer=o;g.useHook=a}),98);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:2382","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var f=h.useMemo(function(){var a=c("qex")._("1546");a=a==null||a!=="dynamic"?32:d("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(e.hotEmojiSize);return d("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[e.hotEmojiSize]),g=e.text;if(g===void 0)return null;g=b("cr:2382")==null?g:c("bs_curry")._1(b("cr:2382").unvault,g);g=h.jsx(c("CometTextWithEntities.react"),{text:g,transforms:f,withParagraphs:!0});if(a)return h.jsx(d("MWV2ChatBubble.bs").EmphasisRing.make,{hasXMA:!1,isBeforeXMA:!1,isOutgoing:!1,shouldConnectBottom:!1,shouldConnectTop:!1,children:g});else return g}e=a;f=e;g.make=f}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="c")return"cc";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","LSContactTypeExact.bs","MWChatTextFormatting","MWLSContactTypeExactUtils.bs","MessageProfileRangeType.bs","ReQL.bs","ReQLSuspense","XCometVanityURLControllerRouteBuilder","bs_caml","bs_caml_format","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("1839834")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return h.test(c)===!1});b=f.contents!==a.length&&!h.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function i(a){if(c("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function j(a,b){try{a=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(b),tl:0}))}catch(b){a=void 0}if(a===void 0)return i(b);var e=a.contactTypeExact;if(c("bs_caml").i64_eq(e,d("LSContactTypeExact.bs").fbUser))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils.bs").isIgContact(a))return i(b);e=a.secondaryName;if(e!==void 0)return"https://www.instagram.com/"+e+"/";else return i(b)}function e(a,b,e,f,g){b=b.split(",");var h=e.split(","),k=f.split(","),l=g.split(",");return b.reduce(function(b,e,f){var g=d("MessageProfileRangeType.bs").ofString(l[f]);g==="t"||g==="a"?b.push({entity:{__typename:"Profile",id:e,uri:i(e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="p"?b.push({entity:{__typename:"Profile",id:e,uri:j(a,e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:c("bs_caml_format").caml_int64_of_string(e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="s"&&b.push({entity:{__typename:"Command"},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])});return b},[])}g.utf16RegexSpaces=h;g.isEmojiOnlyMessage=a;g.findRanges=b;g.createURIForThread=i;g.createProfileURIForMention=j;g.findRangesForMentions=e}),98);
__d("MWV2ChatUnsentMessage.bs",["fbt","CometPressable.react","MWCMIsAnyCMThread","MWLSThread.bs","MWText.react","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","XCometGroupAdminActivitiesControllerRouteBuilder","bs_curry","bs_int64","cr:4898","react","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={linkText:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function k(a){var e=a.attachment,f=a.isSecureMessage;a=a.message;var g=h._("__JHASH__I-2GRtvMpnJ__JHASH__");a=b("cr:4898")==null?g:c("bs_curry")._1(b("cr:4898").useUnsendContentInSecureThread,a);if(f)f=a;else if(e!==void 0){a=e.descriptionText;f=a!==void 0?a:g}else f=g;return i.jsx(d("MWV2TombstonedMessage.bs").make,{ariaLabel:f,children:f})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function l(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:h._("__JHASH__HdJ22izQlT7__JHASH__")}else a=h._("__JHASH__HdJ22izQlT7__JHASH__");return i.jsx(d("MWV2TombstonedMessage.bs").make,{ariaLabel:a,children:a})}l.displayName=l.name+" [from "+f.id+"]";f={make:l};function m(a){var b=a.attachment;a=a.thread;a=c("useCommunityFolder")(a);if(b!==void 0){b=b.cta1Title;b=b!==void 0?b:h._("__JHASH__8jyfQXNgswL__JHASH__")}else b=h._("__JHASH__8jyfQXNgswL__JHASH__");if(a!==void 0)return i.jsx(c("CometPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:c("bs_int64").to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(){return[j.linkText]},children:i.jsx(c("MWText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}var n={make:m};function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var f=c("useReStore")(),g=e.messageId,h=e.threadKey,j=d("MWLSThread.bs").useThread(h),n=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("attachments")),{hd:h,tl:{hd:g,tl:0}})},[f,g,JSON.stringify(h)]));if(n!==void 0){var o=n.cta1Type;o=o!==void 0?o==="xma_view_activity_log":!1}else o=!1;return i.jsxs(i.Fragment,{children:[a?i.jsx(l,{attachment:n}):i.jsx(k,{attachment:n,isSecureMessage:b,message:e}),j!==void 0&&o&&c("MWCMIsAnyCMThread")(j.threadType)?i.jsx(m,{attachment:n,thread:j}):null]})}a=a;e=e;f=f;n=n;a=a;g.IncomingUnsentMessage=e;g.OutgoingUnsentMessage=f;g.ActivityLogDetails=n;g.make=a}),98);
__d("MWPGating.bs",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("105")===!0}g.isDualColumnMessageListEnabled=a}),98);
__d("MWPOpenComposerUtils.bs",["LSRemoveMediaSendJobs","LSResumeMediaSendJob","MWConsole","Promise","bs_caml_int64","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return a.table("media_staging").get({hd:c,tl:0}).then(function(d){if(d!==void 0)return a.table("media_staging")["delete"]({hd:c,tl:0});else return b("Promise").resolve()})}function d(a,d,e){return a.table("media_staging").get({hd:d,tl:0}).then(function(d){if(d!==void 0)return a.table("media_staging").put(c("bs_curry")._1(e,d));else return b("Promise").resolve()})}function e(a,d,e,f,g){return a.table("attachments").get({hd:d,tl:{hd:e,tl:{hd:f,tl:0}}}).then(function(h){if(h!==void 0)return a.table("attachments").upsert({hd:d,tl:{hd:e,tl:{hd:f,tl:0}}},c("bs_curry")._1(g,h));else return b("Promise").resolve()})}function f(a,d,e){return c("LSResumeMediaSendJob")(d,c("bs_caml_int64").zero,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,a).then(function(e){e=e[0];if(e)return c("LSRemoveMediaSendJobs")(d,a);else return b("Promise").resolve()})}a=a;d=d;e=e;f=f;g.deleteMediaStaging=a;g.updateMediaStaging=d;g.updateAttachment=e;g.resumeSendJob=f}),98);
__d("MWPComposerMediaUploadUtil.bs",["FBLogger","MessagingAttachmentType.bs","XComposerPhotoUploader","bs_belt_Array","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){var i="/ajax/mercury/upload.php";h&&(i="/ajax/mercury/chatsupportuser/upload.php");h=a!==void 0?a:function(a,b){};var j=d!==void 0?d:function(a,b){};a=e!==void 0?e:!1;d=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){c("bs_curry")._2(j,a,b);return!0},onUploadProgress:c("bs_curry").__2(h),onUploadStart:function(a){},onUploadSuccess:function(a,d){d=d.response.payload.metadata;var e;if(d==null)c("FBLogger")("messenger_browser_clients").warn("Empty payload"),e={};else{d=c("bs_belt_Array").get(d,0);d!==void 0?e=c("bs_caml_option").valFromOption(d):(c("FBLogger")("messenger_browser_clients").warn("Empty metadata"),e={})}d=e.fbid;var f=e.video_id,g=e.audio_id,h=e.gif_id;e=e.file_id;d=d!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(d)):f!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(f)):g!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(g)):h!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(h)):e!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(e)):void 0;d!==void 0?c("bs_curry")._2(b,a,d):c("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:i});e=a?{data:{voice_clip:!0}}:void 0;d.getAsyncFileUploadRequest(f,g,e).send()}function b(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return d("MessagingAttachmentType.bs").image;else if(a==="audio/wav")return d("MessagingAttachmentType.bs").audio;else if(a==="image/gif")return d("MessagingAttachmentType.bs").animatedImage;else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return d("MessagingAttachmentType.bs").video;else return d("MessagingAttachmentType.bs").file}function e(a,b,e){return{action_url:void 0,attachment_fbid:a,attachment_index:c("bs_caml_int64").zero,attachment_type:d("MessagingAttachmentType.bs").audio,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a,original_file_hash:void 0,playable_duration_ms:c("bs_caml_int64").of_float(e*1e3),playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function f(a,b){a=a.map(function(a){return{action_url:void 0,attachment_fbid:a.offlineAttachmentId,attachment_index:c("bs_caml_int64").zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a.offlineAttachmentId,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,preview_height:[0,200],preview_url:a.previewUrl,preview_url_mime_type:void 0,preview_width:[0,200],source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}});var e=[],f=[];a.forEach(function(a){c("bs_caml").i64_eq(a.attachment_type,d("MessagingAttachmentType.bs").image)&&!b?f.push(a):e.push([a])});f.length>0&&e.unshift(f);return e.map(function(a){return a.map(function(a,b){return babelHelpers["extends"]({},a,{attachment_index:c("bs_caml_int64").of_int32(b)})})})}a=a;b=b;e=e;f=f;g.startUpload=a;g.getAttachmentType=b;g.getAudioAttachment=e;g.createPartitionedAttachments=f}),98);
__d("MWPBaseMessageListRowCountdown.bs",["MAWEphemeralMessageTimer.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",marginTop:"xr1yuqi",marginBottom:"x4ii5y1",$$css:!0}};function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.hasReactions;a=a.ariaHidden;a=a!==void 0?a:!1;return h.jsx("div",{"aria-hidden":a,className:c("stylex")(i.root,f?i.moveUpToAccountForReactions:!1),children:h.jsx(d("MAWEphemeralMessageTimer.bs").make,{ephemeralDurationInSec:b,expirationTimestamp:e})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPBaseMessageListRow.bs",["BaseThemeProvider.react","LSMessageContentType.bs","MWCombineThemeConfigs.bs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.children,d=a.message;a=a.prevMessage;d=b("MWPMessageParsingUtils.bs").isStartOfGroup(d,a);if(d)return b("bs_curry")._1(c);else return null}a={make:a};function j(a){return b("bs_caml").i64_eq(b("bs_caml_int64").and_(a.displayedContentTypes,b("LSMessageContentType.bs").hscrollXma),b("bs_caml_int64").zero)}var k={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0}};function c(a){var c=a.children,d=a.hasReactions,e=a.message,f=a.outgoing,g=a.renderGutterItem,l=a.renderMessageActions;a=a.renderProfile;var m=b("MWPMessageIsReply.bs")(e),n=e.ephemeralExpirationTs,o=e.ephemeralDurationInSec,p=e.isUnsent,q=b("MWMessageDeliveryStatus").getFromSendStatus(e.sendStatusV2);q=q.type==="Sending"?!0:!1;return i.jsxs("div",{className:"x78zum5",role:"none",children:[i.jsxs(b("MWPMessageListColumn.bs").Profile.make,{children:[f?null:b("bs_curry")._1(a),d?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm,{height:18}):null]}),i.jsxs("div",{className:(h||(h=b("stylex")))(k.inner,f?k.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[i.jsx(b("MWPMessageListColumn.bs").Bubble.make,{makeSpaceForActions:j(e),paint:!f||m,children:c}),n!==void 0&&!p?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap,{children:i.jsx(b("MWPBaseMessageListRowCountdown.bs").make,{ephemeralDurationInSec:o,expirationTimestamp:n,hasReactions:d})}):null,j(e)?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap,{children:q?null:b("bs_curry")._1(l)}):null,i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})]}),i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap,{children:[b("bs_curry")._1(g),d?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm,{height:18}):null]})]})}c.displayName=c.name+" [from "+e.id+"]";function d(a){var c=a.children,d=a.message,e=a.nextMessage;a=a.showContent;a=a!==void 0?a:!1;d=b("MWPMessageParsingUtils.bs").isEndOfGroup(d,e);if(d||a)return b("bs_curry")._1(c);else return null}var l={"mwp-reply-background-color":"var(--comment-footer-background)"},m={"mwp-reply-background-color":"var(--comment-footer-background)"},n={dark:m,light:l,type:"VARIABLES"};function o(a){var c=a.xstyle,d=a.children,e=a.domElementRef,f=a.role,g=a.setHovered,j=a.stopHoveringRef;a=a.theme;var k=c!==void 0?b("bs_caml_option").valFromOption(c):!1,l=a!==void 0?a:n,m=i.useCallback(function(){return b("bs_curry")._1(g,function(){return!1})},[g]);return i.jsx(b("BaseThemeProvider.react"),{config:i.useMemo(function(){return b("MWCombineThemeConfigs.bs").combine(n,l)},[l]),children:function(a,c){return i.jsx("div",{className:(h||(h=b("stylex")))(a,k),onMouseLeave:function(){if(j.current===m){b("bs_curry")._1(m);j.current=function(){};return}},onMouseOver:function(){b("bs_curry")._1(j.current),b("bs_curry")._1(g,function(){return!0}),j.current=m},ref:e,role:f,style:c,children:d})}})}o.displayName=o.name+" [from "+e.id+"]";m=o;f.BeforeContent=a;f.Body=c;f.Footer=d;f.defaultTheme=n;f.make=m}),null);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","LSIntEnum","LSMessageReplySourceTypeV2","MWPAccessibleEyebrowsText.react","MWPMessageAuthor.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","cr:1597","cr:4725","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},spaceBetween:{display:"x78zum5",justifyContent:"x1qughib",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",$$css:!0}};function k(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){var e=a.alwaysRenderSenderName;e=e===void 0?!1:e;var f=a.isAnyCMThread;f=f===void 0?!1:f;var g=a.isFirstMessageInGroup,l=a.isGroupThread,m=a.message,n=a.outgoing,o=a.renderForwardSnippet,p=a.renderPinnedText,q=a.renderReplySnippet,r=a.renderSenderName,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply.bs")(m);o=k(m,o,q,n);q=i(d("MWPMessageAuthor.bs").ctx);q=q.nickname;q=g&&q!=null&&f&&c("qex")._("424")===!0;f=e||l&&g&&!n&&!t||q;e=a!=null?j.spaceBetween:!1;o!=null?l=h.jsx("div",{className:c("stylex")(j.header,n?j.alignEnd:!1),role:"none",children:h.jsx(c("MWPMessageListColumn.bs").WithGutters,{shrinkwrap:!0,children:o})}):b("cr:1597")==null?l=f?r(m):h.jsx(c("MWPAccessibleEyebrowsText.react"),{message:m,outgoing:n}):l=h.jsx(b("cr:1597"),{message:m,outgoing:n,renderPinnedText:p,renderTextWrapper:s,shouldRenderSenderName:f});t=o!=null?j.timestampWithSnippet:j.timestamp;q=h.jsx(h.Fragment,{children:b("cr:4725")!=null&&a!=null?h.jsx(b("cr:4725"),{message:m,renderText:s,renderTimestamp:a,xstyle:t}):null});if(g)return h.jsxs(c("BaseHeading.react"),{xstyle:e,children:[l,q]});else return l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.bs",["fbt","BaseHeadingContextWrapper.react","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPBaseMessageListRow.bs","MWPGating.bs","MWPMessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReactDOMComet","StylexHelpers.bs","bs_caml_int64","bs_caml_option","bs_curry","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useCometUniqueID","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0}};function k(){}function l(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var m=h._("__JHASH__U5V4JiyTDSI__JHASH__"),n=h._("__JHASH__GoIrDg5lzef__JHASH__"),o=h._("__JHASH__ctLNxPXr8we__JHASH__"),p=i.forwardRef(function(a,b){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=c("useCometTheme")("invert");var k=a[1];g={"aria-label":g,children:i.jsx(c("MDSTextPairing.react"),{body:d,bodyColor:"primary",level:4}),focusable:f,onPress:function(){return h()},xstyle:function(){return[k,j.enterModalButton,e]}};d=b==null?void 0:c("bs_caml_option").some(b);d!==void 0&&(g.ref=c("bs_caml_option").valFromOption(d));return c("bs_curry")._1(a[0],{children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},g))})});b={make:p};function a(a){var b=a.children,e=a.domElementRef,f=a.isDialogOpened,g=a.isFocused,q=a.isModal,r=a.message,s=a.messageDomID,t=a.nextMessage,u=a.outgoing,v=a.prevMessage,w=a.setFocused,x=a.setHovered,y=a.setIsDialogOpened,z=a.stopHoveringRef;a=a.theme;var A=i.useContext(d("MWV2MessageListIsRowModalContext.bs").context),B=i.useRef(null),C=c("useCometUniqueID")(),D=i.useCallback(function(){c("bs_curry")._1(A,function(){return r.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(C,d("focusScopeQueries").tabbableScopeQuery)},0)},[A,r.messageId,C]),E=function(){c("bs_curry")._1(A,function(){return""});var a=B.current;if(!(a==null))return a.focus()},F=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date(c("bs_caml_int64").to_float(r.timestampMs))),G=d("MWPMessageAuthor.bs").useAuthorName(r);G=G[0];u=u?h._("__JHASH__g90cYI08lR4__JHASH__"):G!==void 0?G:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var H=c("useCometUniqueID")(),I=i.jsx(c("CometScreenReaderText.react"),{id:H,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",F),h._param("Name of the author of the incoming message",u)])}),J=c("useCometUniqueID")(),K=i.useRef(null),L=d("MWPGating.bs").isDualColumnMessageListEnabled()||c("gkx")("5093"),M=c("gkx")("3598"),N=i.useRef(k),O=i.useRef(k),P=i.useRef(k),Q=i.useRef(k);G=i.useMemo(function(){return{isDialogOpened:f,setFocused:w,setIsDialogOpened:y}},[w,y,f]);F=i.useMemo(function(){return{forwardMessage:P,openReactionsMenu:N,removeMessage:Q,replyToMessage:O}},[N,O]);u={children:i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:i.jsx(c("FocusWithinHandler.react"),{onFocusChange:function(a){if(g!==a){c("bs_curry")._1(w,function(){return a});return c("bs_curry")._1(A,function(){if((a||f)&&q)return r.messageId;else return""})}},onFocusVisibleChange:function(b){g!==b&&c("bs_curry")._1(w,function(){return b});var a=K.current;if(b&&!(a==null)){c("setTimeout")(function(){try{return a.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,e){a=i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:i.jsx("div",{className:c("stylex")(j.cell,q?j.cellModal:!1,e?j.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,ref:B,role:"gridcell",tabIndex:0,children:i.jsx(c("FocusInertRegion.react"),{disabled:q,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:q?i.jsxs(i.Fragment,{children:[i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:C,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:l,children:i.jsxs("div",{"aria-describedby":s,"aria-labelledby":H,id:J,role:"dialog",children:[b,q?I:null,i.jsx(p,{ariaLabel:n,focusable:!0,onPress:E,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:j.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(i.jsx("div",{"aria-owns":J}),document.body)]}):i.jsxs(i.Fragment,{children:[b,L?null:i.jsx(p,{ariaLabel:m,focusable:!0,onPress:D,ref:K,text:o,xstyle:e?j.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})]})})})});return i.jsxs(i.Fragment,{children:[i.jsx(d("MWMessageCellFocusTable.bs").keyCommands,{onEnter:q?void 0:D,onEscape:q?E:void 0,onSpace:q?void 0:D,children:M?i.jsx(d("MWMessageCellKeyCommands.bs").keyCommands,{message:r,children:a}):a}),L?i.jsx("div",{role:"gridcell",children:i.jsx(p,{ariaLabel:q?h._("__JHASH__C-7ahaHTUI7__JHASH__"):m,focusable:q,onPress:D,ref:K,text:q?h._("__JHASH__C-7ahaHTUI7__JHASH__"):o,xstyle:e&&!q?j.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})}):null]})}})}),message:r,nextMessage:t,prevMessage:v,role:"row",setHovered:x,stopHoveringRef:z,xstyle:j.row};e!==void 0&&(u.domElementRef=c("bs_caml_option").valFromOption(e));a!==void 0&&(u.theme=c("bs_caml_option").valFromOption(a));return i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx(d("MWV2MessageRowIsRowFocusedContext.bs").Provider.make,{value:G,children:i.jsx(d("MWV2MessageRowActionsContext.bs").Provider.make,{value:F,children:i.jsx(d("MWPBaseMessageListRow.bs").make,babelHelpers["extends"]({},u))})})})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=k;a=l;var q=m,r=n,s=o;b=b;e=e;g.noop=f;g.onKeyDown=a;g.enterModalLabel=q;g.exitModalLabel=r;g.enterLabel=s;g.ModalButton=b;g.make=e}),98);
__d("MWPMessageListText.bs",["BaseTheme.react","CometTextWithEntities.react","LSMessageReplySourceTypeV2.bs","MWBaseTheme.bs","MWChatTextTransform.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={forwarded:{borderStartStyle:"x26u7qi",borderStartWidth:"x7g060r",fontSize:"x1nxh6w3",lineHeight:"x1sibtaa",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},forwardedIncoming:{borderStartColor:"xa7jiu",color:"x12scifz",$$css:!0},forwardedOutgoing:{borderStartColor:"x16b4vue",color:"xkxfvhb",$$css:!0},regular:{fontSize:"x6prxxf",lineHeight:"x1fc57z9",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0},regularIncoming:{color:"xzsf02u",$$css:!0},regularOutgoing:{color:"x14ctfv",$$css:!0}};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var j={"mw-blockquote-border-start-color":"var(--placeholder-text)"},k={dark:j,light:e,type:"VARIABLES"};function a(a){if(a)return d("MWBaseTheme.bs").empty;else return k}function b(a){var b=a.message,e=a.outgoing,f=a.ranges,g=a.renderers,j=a.text,l=a.transforms,m=a.xstyleForText;a=a.xstyleForForwarded;l=l!==void 0?l:d("MWChatTextTransform.bs").epdTextTransforms;m=m!==void 0?c("bs_caml_option").valFromOption(m):!1;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;b=c("bs_caml_obj").caml_equal(b.replySourceTypeV2,d("LSMessageReplySourceTypeV2.bs").forward);var n=e?d("MWBaseTheme.bs").empty:k;if(j!==void 0)if(b){b={ranges:f,text:j,transforms:l,withParagraphs:!1};g!==void 0&&(b.renderers=c("bs_caml_option").valFromOption(g));a=h.jsx("blockquote",{className:c("stylex")(i.forwarded,e?i.forwardedOutgoing:i.forwardedIncoming,a),dir:"auto",children:h.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},b))})}else{b={ranges:f,text:j,transforms:l,withParagraphs:!1};g!==void 0&&(b.renderers=c("bs_caml_option").valFromOption(g));a=h.jsx("div",{className:c("stylex")(i.regular,e?i.regularOutgoing:i.regularIncoming,m),dir:"auto",role:"none",children:h.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},b))})}else a=null;return h.jsx(c("BaseTheme.react"),{config:n,role:"none",children:a})}b.displayName=b.name+" [from "+f.id+"]";j=b;e=k;f=a;b=j;g.ougtoingTheme=d("MWBaseTheme.bs").empty;g.incomingTheme=e;g.getTheme=f;g.make=b}),98);
__d("MWPMessageSenderNameGroupHeading.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.isOutgoingMessage;a=a===void 0?!1:a;return h.jsx("div",{className:"xi81zsa x1ncwhqj x15smj1u x1k70j0n x1120s5i x53iox2"+(a?" x78zum5 x13a6bvl xe53cfu":""),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);